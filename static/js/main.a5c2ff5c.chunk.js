(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{18:function(t,e,a){t.exports={itemText:"ContactItem_itemText__Kf2Rc",button:"ContactItem_button__2OxPx",input:"ContactItem_input__CqfNY"}},20:function(t,e,a){t.exports={mainForm:"Phonebook_mainForm__206m_",label:"Phonebook_label__3Rxo6",input:"Phonebook_input__1-IIH",button:"Phonebook_button__21uSq"}},38:function(t,e,a){t.exports={container:"Container_container__2ITx6",title:"Container_title__20N-x"}},39:function(t,e,a){t.exports={list:"Contacts_list__G3jTs",item:"Contacts_item__JsphL"}},40:function(t,e,a){t.exports={label:"Filter_label__1dbXs",input:"Filter_input__2k_xj"}},63:function(t,e,a){},64:function(t,e,a){},74:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),s=a(21),o=a.n(s),r=a(7),i=(a(62),a(63),a(14)),u=a(45),l=a(12),d=Object(u.a)({reducerPath:"contacts",baseQuery:Object(l.d)({baseUrl:"https://61d437968df81200178a8b2f.mockapi.io/contacts/contacts"}),tagTypes:["contacts"],endpoints:function(t){return{getContacts:t.query({query:function(){return"/"},providesTags:function(t){return t?[].concat(Object(i.a)(t.map((function(t){return{type:"contacts",id:t.id}}))),["contacts"]):["contacts"]}}),addContact:t.mutation({query:function(t){return{url:"/",method:"POST",body:t}},invalidatesTags:["contacts"]}),deleteContact:t.mutation({query:function(t){return{url:"/".concat(t),method:"DELETE"}},invalidatesTags:function(t){return t?[{type:"contacts",id:t.id}]:["contacts"]}}),editContact:t.mutation({query:function(t){return{url:"/".concat(t.id),method:"PUT",body:t}},invalidatesTags:function(t){return t?Object(i.a)(t.map((function(t){return{type:"contacts",id:t.id}}))):["contacts"]}})}}}),b=d.useGetContactsQuery,j=d.useAddContactMutation,m=d.useDeleteContactMutation,p=d.useEditContactMutation,h=(a(64),a(38)),O=a.n(h),f=a(2);var x=function(t){var e=t.title,a=void 0===e?"":e,n=t.children;return Object(f.jsxs)("div",{className:O.a.container,children:[a&&Object(f.jsx)("h2",{className:O.a.title,children:a}),n]})},C=a(10),g=a(24),v={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},_=function(t){g.b.error(t,v)},y=a(20),N=a.n(y);function z(){var t=Object(n.useState)(""),e=Object(C.a)(t,2),a=e[0],c=e[1],s=Object(n.useState)(""),o=Object(C.a)(s,2),r=o[0],i=o[1],u=b().data,l=j(),d=Object(C.a)(l,2),m=d[0],p=d[1].error;Object(n.useEffect)((function(){p&&_("".concat(p.status," ").concat(p.data.msg))}),[p]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:N.a.mainForm,onSubmit:function(t){t.preventDefault();var e,n={name:a,phone:r};0!==u.filter((function(t){return t.name.toLowerCase()===a.toLowerCase()})).length?(e="Contacts ".concat(a," already exist"),g.b.warn(e,v)):m(n),c(""),i("")},children:[Object(f.jsxs)("label",{htmlFor:"name",className:N.a.label,children:["Name",Object(f.jsx)("input",{type:"text",name:"name",className:N.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:a,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(t){c(t.target.value)}})]}),Object(f.jsxs)("label",{htmlFor:"number",className:N.a.label,children:["Phone",Object(f.jsx)("input",{type:"tel",name:"number",className:N.a.input,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:r,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(t){i(t.target.value)}})]}),Object(f.jsx)("button",{type:"submit",className:N.a.button,children:"Add contact"})]})})}var A,k=a(39),F=a.n(k),T=function(t){return t.filter},P=a(51),S=a.n(P),q=a(48),w=a.n(q),E=a(49),Z=a.n(E),I=a(50),M=a.n(I),J=a(18),L=a.n(J),B=a(46),U=a(19),D=a(47),R=a.n(D),$=Object(U.css)(A||(A=Object(B.a)(["\n  display: block;\n  margin: 0px 6px;\n"])));var G=function(t){var e=t.size,a=void 0===e?50:e;return Object(f.jsx)(R.a,{color:"rgb(6, 255, 247)",loading:true,css:$,size:a})};function H(t){var e=t.id,a=t.nameContact,c=t.numberContact,s=Object(n.useState)(!1),o=Object(C.a)(s,2),r=o[0],i=o[1],u=Object(n.useState)(a),l=Object(C.a)(u,2),d=l[0],b=l[1],j=Object(n.useState)(c),h=Object(C.a)(j,2),O=h[0],x=h[1],g=m(),v=Object(C.a)(g,2),y=v[0],N=v[1],z=N.isLoading,A=N.error,k=p(),F=Object(C.a)(k,2),T=F[0],P=F[1].error;Object(n.useEffect)((function(){A&&_("".concat(A.status," ").concat(A.data.msg))}),[A]),Object(n.useEffect)((function(){P&&(_("".concat(P.status," ").concat(P.data.msg)),b(a),x(c))}),[P]);var q=function(t){t?T({id:e,name:d,phone:O}):(b(a),x(c)),i(!1)};return Object(f.jsxs)(f.Fragment,{children:[r?Object(f.jsx)("input",{type:"text",name:"name",className:L.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:d,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(t){b(t.target.value)}}):Object(f.jsx)("span",{className:L.a.itemText,children:d}),r?Object(f.jsx)("input",{type:"tel",name:"number",className:L.a.input,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:O,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(t){x(t.target.value)}}):Object(f.jsx)("span",{className:L.a.itemText,children:O}),!r&&Object(f.jsx)("button",{type:"button",className:L.a.button,"data-id":e,onClick:function(){i(!0)},disabled:z,children:Object(f.jsx)(w.a,{fontSize:"small"})}),r&&Object(f.jsx)("button",{type:"button",className:L.a.button,"data-id":e,onClick:function(){q(!0)},disabled:z,children:Object(f.jsx)(Z.a,{fontSize:"small"})}),r&&Object(f.jsx)("button",{type:"button",className:L.a.button,"data-id":e,onClick:function(){q(!1)},disabled:z,children:Object(f.jsx)(M.a,{fontSize:"small"})}),Object(f.jsxs)("button",{type:"button",className:L.a.button,"data-id":e,onClick:function(){y(e)},disabled:z,children:[z&&Object(f.jsx)(G,{size:15}),Object(f.jsx)(S.a,{fontSize:"small"})]})]})}function Q(){var t=b(),e=t.data,a=t.error,c=t.isFetching;Object(n.useEffect)((function(){a&&_("".concat(a.status," ").concat(a.data))}),[a]);var s=Object(r.e)(T);return Object(f.jsxs)("ul",{className:F.a.list,children:[c&&Object(f.jsx)(G,{}),e&&e.filter((function(t){return null===t||void 0===t?void 0:t.name.toUpperCase().includes(s.toUpperCase())})).map((function(t){return Object(f.jsx)("li",{className:F.a.item,children:Object(f.jsx)(H,{id:t.id,nameContact:t.name,numberContact:t.phone})},t.id)}))]})}var K=a(40),X=a.n(K),Y=a(1),V=Object(Y.createAction)("filter");function W(){var t=Object(r.e)(T),e=Object(r.d)();return Object(f.jsxs)("label",{htmlFor:"name",className:X.a.label,children:["Find contact by name",Object(f.jsx)("input",{type:"text",name:"name",className:X.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:t,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onInput:function(t){var a;a=t.target.value,e(V(a))}})]})}function tt(){var t=b().data;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(x,{title:"Phonebook",children:Object(f.jsx)(z,{})}),Object(f.jsxs)(x,{title:"Contacts",children:[t&&t.length>=2&&Object(f.jsx)(W,{}),Object(f.jsx)(Q,{})]})]})}var et,at=a(8),nt=a(53),ct=a(52),st=a.n(ct),ot=Object(Y.createReducer)("",Object(at.a)({},V,(function(t,e){return e.payload}))),rt=Object(Y.configureStore)({reducer:(et={},Object(at.a)(et,d.reducerPath,d.reducer),Object(at.a)(et,"filter",ot),et),middleware:function(t){return[].concat(Object(i.a)(t()),[d.middleware,st.a])},devTools:!1});Object(nt.setupListeners)(rt.dispatch);a(72);o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsxs)(r.a,{store:rt,children:[Object(f.jsx)(tt,{}),Object(f.jsx)(g.a,{})]})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.a5c2ff5c.chunk.js.map