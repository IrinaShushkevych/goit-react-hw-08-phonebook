(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[4],{74:function(t,e,a){t.exports={mainForm:"Phonebook_mainForm__1vSBA",label:"Phonebook_label__2gNkL",input:"Phonebook_input__2dZzU",button:"Phonebook_button__1g3Um"}},75:function(t,e,a){t.exports={list:"Contacts_list__8lH_7",item:"Contacts_item__LcJzr"}},76:function(t,e,a){t.exports={itemText:"ContactItem_itemText__1g5Wr",button:"ContactItem_button__3niij",input:"ContactItem_input__3TcMB"}},87:function(t,e,a){t.exports={label:"Filter_label___RAql",input:"Filter_input__30aPy"}},95:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return M}));var n=a(6),c=a(24),s=a(9),o=a(0),r=a(29),i=a(17),b=a(22),l=a(74),u=a.n(l),j=a(2);function d(){var t=Object(n.e)(i.c),e=Object(o.useState)(""),a=Object(s.a)(e,2),c=a[0],l=a[1],d=Object(o.useState)(""),m=Object(s.a)(d,2),O=m[0],p=m[1],h=Object(r.e)({token:t}).data,f=Object(r.b)(),x=Object(s.a)(f,2),_=x[0],g=x[1].error;Object(o.useEffect)((function(){g&&Object(b.a)("".concat(g.status," ").concat(g.data.msg))}),[g]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{className:u.a.mainForm,onSubmit:function(e){e.preventDefault();var a={name:c,number:O};h&&0!==h.filter((function(t){return t.name.toLowerCase()===c.toLowerCase()})).length?Object(b.b)("Contacts ".concat(c," already exist")):_({contact:a,token:t}),l(""),p("")},children:[Object(j.jsxs)("label",{htmlFor:"name",className:u.a.label,children:["Name",Object(j.jsx)("input",{type:"text",name:"name",className:u.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:c,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(t){l(t.target.value)}})]}),Object(j.jsxs)("label",{htmlFor:"number",className:u.a.label,children:["Phone",Object(j.jsx)("input",{type:"tel",name:"number",className:u.a.input,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:O,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(t){p(t.target.value)}})]}),Object(j.jsx)("button",{type:"submit",className:u.a.button,children:"Add contact"})]})})}var m,O=a(75),p=a.n(O),h=function(t){return t.filter},f=a(86),x=a.n(f),_=a(83),g=a.n(_),v=a(84),C=a.n(v),N=a(85),z=a.n(N),k=a(76),y=a.n(k),A=a(77),F=a(59),S=a(78),Z=a.n(S),P=Object(F.css)(m||(m=Object(A.a)(["\n  display: block;\n  margin: 0px 6px;\n"])));var w=function(t){var e=t.size,a=void 0===e?50:e;return Object(j.jsx)(Z.a,{color:"rgb(6, 255, 247)",loading:true,css:P,size:a})};function q(t){var e=t.id,a=t.nameContact,c=t.numberContact,l=Object(n.e)(i.c),u=Object(o.useState)(!1),d=Object(s.a)(u,2),m=d[0],O=d[1],p=Object(o.useState)(a),h=Object(s.a)(p,2),f=h[0],_=h[1],v=Object(o.useState)(c),N=Object(s.a)(v,2),k=N[0],A=N[1],F=Object(r.c)(),S=Object(s.a)(F,2),Z=S[0],P=S[1],q=P.isLoading,J=P.error,B=Object(r.d)(),E=Object(s.a)(B,2),L=E[0],T=E[1].error;Object(o.useEffect)((function(){J&&Object(b.a)("".concat(J.status," ").concat(J.data.msg))}),[J]),Object(o.useEffect)((function(){T&&(Object(b.a)("".concat(T.status," ").concat(T.data.msg)),_(a),A(c))}),[T]);var I=function(t){t?L({contact:{name:f,number:k},id:e,token:l}):(_(a),A(c)),O(!1)};return Object(j.jsxs)(j.Fragment,{children:[m?Object(j.jsx)("input",{type:"text",name:"name",className:y.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:f,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(t){_(t.target.value)}}):Object(j.jsx)("span",{className:y.a.itemText,children:f}),m?Object(j.jsx)("input",{type:"tel",name:"number",className:y.a.input,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:k,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(t){A(t.target.value)}}):Object(j.jsx)("span",{className:y.a.itemText,children:k}),!m&&Object(j.jsx)("button",{type:"button",className:y.a.button,"data-id":e,onClick:function(){O(!0)},disabled:q,children:Object(j.jsx)(g.a,{fontSize:"small"})}),m&&Object(j.jsx)("button",{type:"button",className:y.a.button,"data-id":e,onClick:function(){I(!0)},disabled:q,children:Object(j.jsx)(C.a,{fontSize:"small"})}),m&&Object(j.jsx)("button",{type:"button",className:y.a.button,"data-id":e,onClick:function(){I(!1)},disabled:q,children:Object(j.jsx)(z.a,{fontSize:"small"})}),Object(j.jsxs)("button",{type:"button",className:y.a.button,"data-id":e,onClick:function(){Z({id:e,token:l})},disabled:q,children:[q&&Object(j.jsx)(w,{size:15}),Object(j.jsx)(x.a,{fontSize:"small"})]})]})}var J=a(3);function B(){var t=Object(n.e)(i.c),e=Object(r.e)({token:t}),a=e.data,c=e.error,s=e.isFetching,l=Object(J.h)();Object(o.useEffect)((function(){c&&Object(b.a)("".concat(c.status," ").concat(c.data))}),[c]),Object(o.useEffect)((function(){t||l("/")}),[t,l]);var u=Object(n.e)(h);return Object(j.jsxs)("ul",{className:p.a.list,children:[s&&Object(j.jsx)(w,{}),a&&a.filter((function(t){return null===t||void 0===t?void 0:t.name.toUpperCase().includes(u.toUpperCase())})).map((function(t){return Object(j.jsx)("li",{className:p.a.item,children:Object(j.jsx)(q,{id:t.id,nameContact:t.name,numberContact:t.number})},t.id)}))]})}var E=a(87),L=a.n(E),T=a(35);function I(){var t=Object(n.e)(h),e=Object(n.d)();return Object(j.jsxs)("label",{htmlFor:"name",className:L.a.label,children:["Find contact by name",Object(j.jsx)("input",{type:"text",name:"name",className:L.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:t,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onInput:function(t){var a;a=t.target.value,e(Object(T.a)(a))}})]})}function M(){var t=Object(n.e)(i.c),e=Object(r.e)(t).data;return Object(j.jsxs)(j.Fragment,{children:[" ",Object(j.jsx)(c.a,{title:"Phonebook",children:Object(j.jsx)(d,{})}),Object(j.jsxs)(c.a,{title:"Contacts",children:[e&&e.length>=2&&Object(j.jsx)(I,{}),Object(j.jsx)(B,{})]})]})}}}]);
//# sourceMappingURL=4.6484198f.chunk.js.map