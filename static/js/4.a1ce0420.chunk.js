(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{101:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return M}));var n=a(33),c=a(25),s=a(7),o=a(0),r=a(23),i=a(81),b=a.n(i),l=a(1);function u(){var t=Object(o.useState)(""),e=Object(s.a)(t,2),a=e[0],c=e[1],i=Object(o.useState)(""),u=Object(s.a)(i,2),j=u[0],d=u[1],m=Object(n.e)().data,O=Object(n.b)(),p=Object(s.a)(O,2),h=p[0],f=p[1].error;Object(o.useEffect)((function(){f&&Object(r.a)("".concat(f.status," ").concat(f.data.msg))}),[f]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{className:b.a.mainForm,onSubmit:function(t){t.preventDefault();var e={name:a,number:j};m&&0!==m.filter((function(t){return t.name.toLowerCase()===a.toLowerCase()})).length?Object(r.b)("Contacts ".concat(a," already exist")):h(e),c(""),d("")},children:[Object(l.jsxs)("label",{htmlFor:"name",className:b.a.label,children:["Name",Object(l.jsx)("input",{type:"text",name:"name",className:b.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:a,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(t){c(t.target.value)}})]}),Object(l.jsxs)("label",{htmlFor:"number",className:b.a.label,children:["Phone",Object(l.jsx)("input",{type:"tel",name:"number",className:b.a.input,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:j,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(t){d(t.target.value)}})]}),Object(l.jsx)("button",{type:"submit",className:b.a.button,children:"Add contact"})]})})}var j,d=a(82),m=a.n(d),O=function(t){return t.filter},p=a(11),h=a(92),f=a.n(h),x=a(89),_=a.n(x),g=a(90),v=a.n(g),C=a(91),N=a.n(C),z=a(83),y=a.n(z),A=a(34),k=a(51),F=a(84),S=a.n(F),Z=Object(k.css)(j||(j=Object(A.a)(["\n  display: block;\n  margin: 0px 6px;\n"])));var P=function(t){var e=t.size,a=void 0===e?50:e;return Object(l.jsx)(S.a,{color:"rgb(6, 255, 247)",loading:true,css:Z,size:a})};function w(t){var e=t.id,a=t.nameContact,c=t.numberContact,i=Object(o.useState)(!1),b=Object(s.a)(i,2),u=b[0],j=b[1],d=Object(o.useState)(a),m=Object(s.a)(d,2),O=m[0],p=m[1],h=Object(o.useState)(c),x=Object(s.a)(h,2),g=x[0],C=x[1],z=Object(n.c)(),A=Object(s.a)(z,2),k=A[0],F=A[1],S=F.isLoading,Z=F.error,w=Object(n.d)(),q=Object(s.a)(w,2),J=q[0],B=q[1].error;Object(o.useEffect)((function(){Z&&Object(r.a)("".concat(Z.status," ").concat(Z.data.msg))}),[Z]),Object(o.useEffect)((function(){B&&(Object(r.a)("".concat(B.status," ").concat(B.data.msg)),p(a),C(c))}),[B]);var E=function(t){t?J({contact:{name:O,number:g},id:e}):(p(a),C(c)),j(!1)};return Object(l.jsxs)(l.Fragment,{children:[u?Object(l.jsx)("input",{type:"text",name:"name",className:y.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:O,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(t){p(t.target.value)}}):Object(l.jsx)("span",{className:y.a.itemText,children:O}),u?Object(l.jsx)("input",{type:"tel",name:"number",className:y.a.input,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:g,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(t){C(t.target.value)}}):Object(l.jsx)("span",{className:y.a.itemText,children:g}),!u&&Object(l.jsx)("button",{type:"button",className:y.a.button,"data-id":e,onClick:function(){j(!0)},disabled:S,children:Object(l.jsx)(_.a,{fontSize:"small"})}),u&&Object(l.jsx)("button",{type:"button",className:y.a.button,"data-id":e,onClick:function(){E(!0)},disabled:S,children:Object(l.jsx)(v.a,{fontSize:"small"})}),u&&Object(l.jsx)("button",{type:"button",className:y.a.button,"data-id":e,onClick:function(){E(!1)},disabled:S,children:Object(l.jsx)(N.a,{fontSize:"small"})}),Object(l.jsxs)("button",{type:"button",className:y.a.button,"data-id":e,onClick:function(){k(e)},disabled:S,children:[S&&Object(l.jsx)(P,{size:15}),Object(l.jsx)(f.a,{fontSize:"small"})]})]})}var q=a(41),J=a(3);function B(){var t=Object(p.e)(q.a),e=Object(n.e)({token:t}),a=e.data,c=e.error,s=e.isFetching,i=Object(J.h)();Object(o.useEffect)((function(){c&&Object(r.a)("".concat(c.status," ").concat(c.data))}),[c]),Object(o.useEffect)((function(){t||i("/")}),[t,i]);var b=Object(p.e)(O);return Object(l.jsxs)("ul",{className:m.a.list,children:[s&&Object(l.jsx)(P,{}),a&&a.filter((function(t){return null===t||void 0===t?void 0:t.name.toUpperCase().includes(b.toUpperCase())})).map((function(t){return Object(l.jsx)("li",{className:m.a.item,children:Object(l.jsx)(w,{id:t.id,nameContact:t.name,numberContact:t.number})},t.id)}))]})}var E=a(93),L=a.n(E),T=a(45);function I(){var t=Object(p.e)(O),e=Object(p.d)();return Object(l.jsxs)("label",{htmlFor:"name",className:L.a.label,children:["Find contact by name",Object(l.jsx)("input",{type:"text",name:"name",className:L.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:t,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onInput:function(t){var a;a=t.target.value,e(Object(T.a)(a))}})]})}function M(){var t=Object(n.e)().data;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(c.a,{title:"Phonebook",children:Object(l.jsx)(u,{})}),Object(l.jsxs)(c.a,{title:"Contacts",children:[t&&t.length>=2&&Object(l.jsx)(I,{}),Object(l.jsx)(B,{})]})]})}},81:function(t,e,a){t.exports={mainForm:"Phonebook_mainForm__1vSBA",label:"Phonebook_label__2gNkL",input:"Phonebook_input__2dZzU",button:"Phonebook_button__1g3Um"}},82:function(t,e,a){t.exports={list:"Contacts_list__8lH_7",item:"Contacts_item__LcJzr"}},83:function(t,e,a){t.exports={itemText:"ContactItem_itemText__1g5Wr",button:"ContactItem_button__3niij",input:"ContactItem_input__3TcMB"}},93:function(t,e,a){t.exports={label:"Filter_label___RAql",input:"Filter_input__30aPy"}}}]);
//# sourceMappingURL=4.a1ce0420.chunk.js.map