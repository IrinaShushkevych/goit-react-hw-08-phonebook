(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{17:function(t,e,n){t.exports={itemText:"ContactItem_itemText__Kf2Rc",button:"ContactItem_button__2OxPx",input:"ContactItem_input__CqfNY"}},19:function(t,e,n){t.exports={mainForm:"Phonebook_mainForm__206m_",label:"Phonebook_label__3Rxo6",input:"Phonebook_input__1-IIH",button:"Phonebook_button__21uSq"}},36:function(t,e,n){t.exports={container:"Container_container__2ITx6",title:"Container_title__20N-x"}},37:function(t,e,n){t.exports={list:"Contacts_list__G3jTs",item:"Contacts_item__JsphL"}},38:function(t,e,n){t.exports={label:"Filter_label__1dbXs",input:"Filter_input__2k_xj"}},61:function(t,e,n){},62:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),s=n(27),o=n.n(s),r=n(7),i=(n(60),n(61),n(14)),u=n(43),l=n(12),d=Object(u.a)({reducerPath:"contacts",baseQuery:Object(l.d)({baseUrl:"https://61d437968df81200178a8b2f.mockapi.io/contacts/contacts"}),tagTypes:["contacts"],endpoints:function(t){return{getContacts:t.query({query:function(){return"/"},providesTags:function(t){return t?[].concat(Object(i.a)(t.map((function(t){return{type:"contacts",id:t.id}}))),["contacts"]):["contacts"]}}),addContact:t.mutation({query:function(t){return{url:"/",method:"POST",body:t}},invalidatesTags:["contacts"]}),deleteContact:t.mutation({query:function(t){return{url:"/".concat(t),method:"DELETE"}},invalidatesTags:function(t){return t?[{type:"contacts",id:t.id}]:["contacts"]}}),editContact:t.mutation({query:function(t){return{url:"/".concat(t.id),method:"PUT",body:t}},invalidatesTags:function(t){return t?Object(i.a)(t.map((function(t){return{type:"contacts",id:t.id}}))):["contacts"]}})}}}),b=d.useGetContactsQuery,j=d.useAddContactMutation,m=d.useDeleteContactMutation,p=d.useEditContactMutation,h=(n(62),n(36)),O=n.n(h),x=n(2);var f=function(t){var e=t.title,n=void 0===e?"":e,a=t.children;return Object(x.jsxs)("div",{className:O.a.container,children:[n&&Object(x.jsx)("h2",{className:O.a.title,children:n}),a]})},_=n(10),C=n(19),v=n.n(C);function y(){var t=Object(a.useState)(""),e=Object(_.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)(""),o=Object(_.a)(s,2),r=o[0],i=o[1],u=b().data,l=j(),d=Object(_.a)(l,1)[0];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{className:v.a.mainForm,onSubmit:function(t){t.preventDefault();var e={name:n,phone:r};0!==u.filter((function(t){return t.name===n})).length?alert("Contacts ".concat(n," already exist")):d(e),c(""),i("")},children:[Object(x.jsxs)("label",{htmlFor:"name",className:v.a.label,children:["Name",Object(x.jsx)("input",{type:"text",name:"name",className:v.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:n,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(t){c(t.target.value)}})]}),Object(x.jsxs)("label",{htmlFor:"number",className:v.a.label,children:["Phone",Object(x.jsx)("input",{type:"tel",name:"number",className:v.a.input,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:r,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(t){i(t.target.value)}})]}),Object(x.jsx)("button",{type:"submit",className:v.a.button,children:"Add contact"})]})})}var g,N=n(37),z=n.n(N),A=function(t){return t.filter},k=n(49),F=n.n(k),T=n(46),S=n.n(T),P=n(47),q=n.n(P),Z=n(48),w=n.n(Z),I=n(17),M=n.n(I),J=n(44),E=n(18),B=n(45),L=n.n(B),U=Object(E.css)(g||(g=Object(J.a)(["\n  display: block;\n  margin: 0px 6px;\n"])));var D=function(t){var e=t.size,n=void 0===e?50:e;return Object(x.jsx)(L.a,{color:"rgb(6, 255, 247)",loading:true,css:U,size:n})};function R(t){var e=t.id,n=t.nameContact,c=t.numberContact,s=Object(a.useState)(!1),o=Object(_.a)(s,2),r=o[0],i=o[1],u=Object(a.useState)(n),l=Object(_.a)(u,2),d=l[0],b=l[1],j=Object(a.useState)(c),h=Object(_.a)(j,2),O=h[0],f=h[1],C=m(),v=Object(_.a)(C,2),y=v[0],g=v[1].isLoading,N=p(),z=Object(_.a)(N,1)[0],A=function(t){t?z({id:e,name:d,phone:O}):(b(n),f(c)),i(!1)};return Object(x.jsxs)(x.Fragment,{children:[r?Object(x.jsx)("input",{type:"text",name:"name",className:M.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:d,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(t){b(t.target.value)}}):Object(x.jsx)("span",{className:M.a.itemText,children:d}),r?Object(x.jsx)("input",{type:"tel",name:"number",className:M.a.input,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:O,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(t){f(t.target.value)}}):Object(x.jsx)("span",{className:M.a.itemText,children:O}),!r&&Object(x.jsx)("button",{type:"button",className:M.a.button,"data-id":e,onClick:function(){i(!0)},disabled:g,children:Object(x.jsx)(S.a,{fontSize:"small"})}),r&&Object(x.jsx)("button",{type:"button",className:M.a.button,"data-id":e,onClick:function(){A(!0)},disabled:g,children:Object(x.jsx)(q.a,{fontSize:"small"})}),r&&Object(x.jsx)("button",{type:"button",className:M.a.button,"data-id":e,onClick:function(){A(!1)},disabled:g,children:Object(x.jsx)(w.a,{fontSize:"small"})}),Object(x.jsxs)("button",{type:"button",className:M.a.button,"data-id":e,onClick:function(){y(e)},disabled:g,children:[g&&Object(x.jsx)(D,{size:15}),Object(x.jsx)(F.a,{fontSize:"small"})]})]})}function $(){var t=b(),e=t.data,n=(t.error,t.isFetching),a=Object(r.e)(A);return Object(x.jsxs)("ul",{className:z.a.list,children:[n&&Object(x.jsx)(D,{}),e&&e.filter((function(t){return null===t||void 0===t?void 0:t.name.toUpperCase().includes(a.toUpperCase())})).map((function(t){return Object(x.jsx)("li",{className:z.a.item,children:Object(x.jsx)(R,{id:t.id,nameContact:t.name,numberContact:t.phone})},t.id)}))]})}var G=n(38),Q=n.n(G),H=n(1),K=Object(H.createAction)("filter");function X(){var t=Object(r.e)(A),e=Object(r.d)();return Object(x.jsxs)("label",{htmlFor:"name",className:Q.a.label,children:["Find contact by name",Object(x.jsx)("input",{type:"text",name:"name",className:Q.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:t,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onInput:function(t){var n;n=t.target.value,e(K(n))}})]})}function Y(){var t=b().data;return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(f,{title:"Phonebook",children:Object(x.jsx)(y,{})}),Object(x.jsxs)(f,{title:"Contacts",children:[t&&t.length>=2&&Object(x.jsx)(X,{}),Object(x.jsx)($,{})]})]})}var V,W=n(8),tt=n(51),et=n(50),nt=n.n(et),at=Object(H.createReducer)("",Object(W.a)({},K,(function(t,e){return e.payload}))),ct=Object(H.configureStore)({reducer:(V={},Object(W.a)(V,d.reducerPath,d.reducer),Object(W.a)(V,"filter",at),V),middleware:function(t){return[].concat(Object(i.a)(t()),[d.middleware,nt.a])},devTools:!1});Object(tt.setupListeners)(ct.dispatch),o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(r.a,{store:ct,children:Object(x.jsx)(Y,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.6da25118.chunk.js.map