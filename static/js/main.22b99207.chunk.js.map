{"version":3,"sources":["redux/Users/users-selector.js","utilits/messages.js","components/Container/Container.jsx","redux/Contacts/contacts-reducer.js","components/Container/Container.module.css","redux/Filter/filter-actions.js","utilits/api.js","redux/Users/users-operation.js","components/UserMenu/List.styled.js","components/UserMenu/Item.styles.js","components/UserMenu/UserMenu.js","components/LoginUser/LoginUser.js","pages/login.js","pages/register.js","App.js","redux/Filter/filter-reducer.js","redux/Users/users-reducer.js","redux/store.js","index.js"],"names":["getUser","state","users","name","getError","error","getIsLoading","isLoading","getToken","token","option","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","onError","message","toast","onWarning","warn","Container","title","children","className","s","container","contactsReducer","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getContacts","query","url","headers","Authorization","providesTags","result","map","el","type","id","addContact","mutation","contact","method","body","invalidatesTags","deleteContact","editContact","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","useEditContactMutation","module","exports","setFilter","createAction","BASE_API","registerUserAPI","user","fetch","JSON","stringify","then","response","status","json","Error","statusText","loginUserAPI","logoutUserAPI","registerUser","createAsyncThunk","a","data","loginUser","logoutUser","List","styled","ul","Item","li","UserMenu","userName","useSelector","dispatch","useDispatch","useEffect","to","onClick","LoginUser","useState","sessionStorage","getItem","email","setEmail","password","setPassword","useForm","register","handleSubmit","errors","formState","navigate","useNavigate","userError","onChange","e","value","target","setItem","onSubmit","removeItem","required","LoginPage","RegisterPage","setName","ContactsPage","lazy","App","fallback","path","element","filterReducer","createReducer","_","payload","console","log","pending","usersReducer","action","fulfilled","rejected","persistConfig","key","storage","storageSession","whitelist","persistedUserReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","process","devTools","setupListeners","persistedStore","persistStore","ReactDOM","render","StrictMode","loader","persistor","document","getElementById"],"mappings":"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","file":"static/js/main.22b99207.chunk.js","sourcesContent":["export const getUser = (state) => state.users.name\r\n\r\nexport const getError = (state) => state.users.error\r\n\r\nexport const getIsLoading = (state) => state.users.isLoading\r\n\r\nexport const getToken = (state) => state?.users?.token ?? ''\r\n","import { toast } from \"react-toastify\";\r\n\r\nconst option = {\r\n  position: \"top-right\",\r\n  autoClose: 5000,\r\n  hideProgressBar: false,\r\n  closeOnClick: true,\r\n  pauseOnHover: true,\r\n  draggable: true,\r\n  progress: undefined,\r\n  theme: \"dark\",\r\n};\r\n\r\nexport const onError = (message) => {\r\n  toast.error(message, option);\r\n};\r\n\r\nexport const onWarning = (message) => {\r\n  toast.warn(message, option);\r\n};\r\n\r\nexport const onSuccess = (message) => {\r\n  toast.success(message, option);\r\n};\r\n","import PropTypes from 'prop-types'\r\nimport s from './Container.module.css'\r\n\r\nfunction Container({ title = '', children }) {\r\n  return (\r\n    <div className={s.container}>\r\n      {title && <h2 className={s.title}>{title}</h2>}\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nContainer.propTypes = {\r\n  title: PropTypes.string,\r\n  children: PropTypes.node,\r\n}\r\n\r\nexport default Container\r\n","//created by Irina Shushkevych\r\n//https://connections-api.herokuapp.com\r\n\r\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\n\r\nexport const contactsReducer = createApi({\r\n  reducerPath: 'contacts',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: 'https://connections-api.herokuapp.com/contacts',\r\n  }),\r\n  tagTypes: ['contacts'],\r\n  endpoints: (builder) => ({\r\n    getContacts: builder.query({\r\n      query: ({ token }) => {\r\n        return {\r\n          url: '/',\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      },\r\n      providesTags: (result) =>\r\n        result\r\n          ? [\r\n              ...result.map((el) => ({ type: 'contacts', id: el.id })),\r\n              'contacts',\r\n            ]\r\n          : ['contacts'],\r\n    }),\r\n    addContact: builder.mutation({\r\n      query: ({ contact, token }) => {\r\n        return {\r\n          url: '/',\r\n          method: 'POST',\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: contact,\r\n        }\r\n      },\r\n      invalidatesTags: ['contacts'],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n      query: ({ id, token }) => ({\r\n        url: `/${id}`,\r\n        method: 'DELETE',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }),\r\n      invalidatesTags: (result) =>\r\n        result ? [{ type: 'contacts', id: result.id }] : ['contacts'],\r\n    }),\r\n    editContact: builder.mutation({\r\n      query: ({ contact, id, token }) => {\r\n        return {\r\n          url: `/${id}`,\r\n          method: 'PATCH',\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: contact,\r\n        }\r\n      },\r\n      invalidatesTags: (result) =>\r\n        result\r\n          ? [...result.map((el) => ({ type: 'contacts', id: el.id }))]\r\n          : ['contacts'],\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useGetContactsQuery,\r\n  useAddContactMutation,\r\n  useDeleteContactMutation,\r\n  useEditContactMutation,\r\n} = contactsReducer\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__YdtW5\",\"title\":\"Container_title__UrP9o\"};","import { createAction } from '@reduxjs/toolkit'\r\n\r\nexport const setFilter = createAction('filter')\r\n","const BASE_API = 'https://connections-api.herokuapp.com/users'\r\n\r\nexport const registerUserAPI = (user) => {\r\n  return fetch(`${BASE_API}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  }).then((response) => {\r\n    switch (response.status) {\r\n      case 201:\r\n        return response.json()\r\n      case 400:\r\n        throw Error('Wrong name, login or password')\r\n      case 404:\r\n        throw Error('Not found')\r\n      case 500:\r\n        throw Error('Servers error')\r\n      default:\r\n        throw Error(response.statusText)\r\n    }\r\n  })\r\n}\r\n\r\nexport const loginUserAPI = (user) => {\r\n  return fetch(`${BASE_API}/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  }).then((response) => {\r\n    switch (response.status) {\r\n      case 200:\r\n        return response.json()\r\n      case 400:\r\n        throw Error('Wrong login or password')\r\n      case 404:\r\n        throw Error('Not found')\r\n      default:\r\n        throw Error(response.statusText)\r\n    }\r\n  })\r\n}\r\n\r\nexport const logoutUserAPI = (token) => {\r\n  return fetch(`${BASE_API}/logout`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((response) => {\r\n    switch (response.status) {\r\n      case 200:\r\n        return response.json()\r\n      case 401:\r\n        throw Error('No authorization')\r\n      default:\r\n        throw Error('Unknown error')\r\n    }\r\n  })\r\n}\r\n","import { createAsyncThunk } from '@reduxjs/toolkit'\r\n\r\nimport { registerUserAPI, loginUserAPI, logoutUserAPI } from '../../utilits/api'\r\n\r\nexport const registerUser = createAsyncThunk('register', async (user) => {\r\n  const data = await registerUserAPI(user)\r\n  return data\r\n})\r\n\r\nexport const loginUser = createAsyncThunk('login', async (user) => {\r\n  const data = await loginUserAPI(user)\r\n  return data\r\n})\r\n\r\nexport const logoutUser = createAsyncThunk('logout', async (token) => {\r\n  const data = await logoutUserAPI(token)\r\n  return data\r\n})\r\n","import styled from '@emotion/styled'\r\n\r\nexport const List = styled.ul`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`\r\n","import styled from '@emotion/styled'\r\n\r\nexport const Item = styled.li`\r\n  padding: 20px 20px;\r\n  &:not(last-child) {\r\n    margin-right: 20px;\r\n  }\r\n`\r\n","import { useDispatch, useSelector } from 'react-redux'\r\nimport { Link, Outlet } from 'react-router-dom'\r\nimport { getError, getToken, getUser } from '../../redux/Users/users-selector'\r\nimport Container from '../Container/Container'\r\nimport { logoutUser } from '../../redux/Users/users-operation'\r\nimport { useEffect } from 'react'\r\nimport { onError } from '../../utilits/messages'\r\nimport { List } from './List.styled'\r\nimport { Item } from './Item.styles'\r\n\r\nexport default function UserMenu() {\r\n  const userName = useSelector(getUser)\r\n  const error = useSelector(getError)\r\n  const token = useSelector(getToken)\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      onError(error)\r\n    }\r\n  }, [error])\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <List>\r\n          {!userName && (\r\n            <>\r\n              <Item>\r\n                <Link to=\"register\">Register</Link>\r\n              </Item>\r\n              <Item>\r\n                <Link to=\"login\">LogIn</Link>\r\n              </Item>\r\n            </>\r\n          )}\r\n          {userName && (\r\n            <>\r\n              <Item>Hello, {userName}</Item>\r\n              <Item>\r\n                <Link\r\n                  to=\"/\"\r\n                  onClick={() => {\r\n                    dispatch(logoutUser(token))\r\n                  }}\r\n                >\r\n                  LogOut\r\n                </Link>\r\n              </Item>\r\n            </>\r\n          )}\r\n        </List>\r\n      </Container>\r\n      <Outlet />\r\n    </>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport Container from '../Container/Container'\r\nimport { loginUser } from '../../redux/Users/users-operation'\r\nimport {\r\n  getError,\r\n  getIsLoading,\r\n  getUser,\r\n} from '../../redux/Users/users-selector'\r\nimport { onError } from '../../utilits/messages'\r\n\r\nexport default function LoginUser() {\r\n  const [email, setEmail] = useState(sessionStorage.getItem('email') ?? '')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm()\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n  const isLoading = useSelector(getIsLoading)\r\n  const userError = useSelector(getError)\r\n  const userName = useSelector(getUser)\r\n\r\n  const onSubmit = (data) => {\r\n    dispatch(\r\n      loginUser({\r\n        email: 'testtast4@gmail.com',\r\n        password: 'qwert-11',\r\n      }),\r\n    )\r\n    setEmail('')\r\n    setPassword('')\r\n    sessionStorage.removeItem('email')\r\n  }\r\n\r\n  const onCancel = () => {\r\n    sessionStorage.removeItem('email')\r\n    navigate('/')\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    const value = e.target.value\r\n    switch (e.target.name) {\r\n      case 'email':\r\n        setEmail(value)\r\n        sessionStorage.setItem('email', value)\r\n        break\r\n      case 'password':\r\n        setPassword(value)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (userError) {\r\n      onError(userError)\r\n    }\r\n  }, [userError])\r\n\r\n  useEffect(() => {\r\n    if (userName) {\r\n      navigate('/contacts')\r\n    }\r\n  }, [userName, navigate])\r\n\r\n  return (\r\n    <Container>\r\n      <h2>Form Login</h2>\r\n      {isLoading && <h3>Loading....</h3>}\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <label>\r\n          email\r\n          <input\r\n            type=\"email\"\r\n            {...register('email', { required: true })}\r\n            onChange={onChange}\r\n            value={email}\r\n          />\r\n          {errors.email?.type === 'required' && 'Email is required'}\r\n        </label>\r\n        <label>\r\n          password\r\n          <input\r\n            type=\"password\"\r\n            {...register('password', { required: true })}\r\n            onChange={onChange}\r\n            value={password}\r\n          />\r\n          {errors.password?.type === 'required' && 'Password is required'}\r\n        </label>\r\n        <button type=\"button\" onClick={onCancel}>\r\n          Cancel\r\n        </button>\r\n        <button type=\"submit\">Log in</button>\r\n      </form>\r\n    </Container>\r\n  )\r\n}\r\n","import LoginUser from '../components/LoginUser'\r\n\r\nexport default function LoginPage() {\r\n  return <LoginUser />\r\n}\r\n","import { useForm } from 'react-hook-form'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Container from '../components/Container/Container'\r\nimport { registerUser } from '../redux/Users/users-operation'\r\nimport { getError, getIsLoading } from '../redux/Users/users-selector'\r\nimport { useEffect, useState } from 'react'\r\nimport { onError } from '../utilits/messages'\r\n\r\nexport default function RegisterPage() {\r\n  const [name, setName] = useState(sessionStorage.getItem('name') ?? '')\r\n  const [email, setEmail] = useState(sessionStorage.getItem('email') ?? '')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm()\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n  const isLoading = useSelector(getIsLoading)\r\n  const userError = useSelector(getError)\r\n\r\n  const onSubmit = (data) => {\r\n    dispatch(\r\n      registerUser({\r\n        name: 'TestTest3',\r\n        email: 'testtast4@gmail.com',\r\n        password: 'qwert-11',\r\n      }),\r\n    )\r\n    setName('')\r\n    setEmail('')\r\n    setPassword('')\r\n    sessionStorage.removeItem('name')\r\n    sessionStorage.removeItem('email')\r\n  }\r\n\r\n  const onCancel = () => {\r\n    sessionStorage.removeItem('name')\r\n    sessionStorage.removeItem('email')\r\n    navigate('/')\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    const value = e.target.value\r\n    switch (e.target.name) {\r\n      case 'name':\r\n        setName(value)\r\n        sessionStorage.setItem('name', value)\r\n        break\r\n      case 'email':\r\n        setEmail(value)\r\n        sessionStorage.setItem('email', value)\r\n        break\r\n      case 'password':\r\n        setPassword(value)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (userError) {\r\n      onError(userError)\r\n    }\r\n  }, [userError])\r\n\r\n  return (\r\n    <Container>\r\n      <h2>Form Register</h2>\r\n      {isLoading && <h3>Loading....</h3>}\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <label>\r\n          name\r\n          <input {...register('name')} value={name} onChange={onChange} />\r\n        </label>\r\n        <label>\r\n          email\r\n          <input\r\n            type=\"email\"\r\n            {...register('email', { required: true })}\r\n            onChange={onChange}\r\n            value={email}\r\n          />\r\n          {errors.email?.type === 'required' && 'Email is required'}\r\n        </label>\r\n        <label>\r\n          password\r\n          <input\r\n            type=\"password\"\r\n            {...register('password', { required: true })}\r\n            onChange={onChange}\r\n            value={password}\r\n          />\r\n          {errors.password?.type === 'required' && 'Password is required'}\r\n        </label>\r\n        <button type=\"button\" onClick={onCancel}>\r\n          Cancel\r\n        </button>\r\n        <button type=\"submit\">Register</button>\r\n      </form>\r\n    </Container>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport { Route, Routes, Navigate } from 'react-router-dom'\r\nimport { lazy, Suspense } from 'react'\r\n\r\nimport './App.css'\r\n\r\nimport UserMenu from './components/UserMenu'\r\nimport LoginPage from './pages/login'\r\nimport RegisterPage from './pages/register'\r\n\r\nconst ContactsPage = lazy(() => import('./pages/contacts'))\r\n\r\nexport default function App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Suspense fallback={<p>Loading....</p>}>\r\n        <Routes>\r\n          <Route path=\"/\" element={<UserMenu />}>\r\n            <Route path=\"login\" element={<LoginPage />} />\r\n            <Route path=\"register\" element={<RegisterPage />} />\r\n            <Route path=\"contacts\" element={<ContactsPage />} />\r\n          </Route>\r\n          <Route path=\"*\" element={<Navigate to=\"/\" />} />\r\n        </Routes>\r\n      </Suspense>\r\n    </div>\r\n  )\r\n}\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { setFilter } from './filter-actions'\r\n\r\nexport const filterReducer = createReducer('', {\r\n  [setFilter]: (_, { payload }) => payload,\r\n})\r\n","import { createReducer } from '@reduxjs/toolkit'\r\nimport { registerUser, loginUser, logoutUser } from './users-operation'\r\nimport { current } from 'immer'\r\n\r\nconsole.log([registerUser.pending])\r\nconst initialState = {\r\n  name: '',\r\n  email: '',\r\n  token: '',\r\n  error: '',\r\n  isLoading: false,\r\n}\r\n\r\nexport const usersReducer = createReducer(initialState, {\r\n  [registerUser.pending]: (state, action) => {\r\n    state.isLoading = true\r\n    state.error = ''\r\n  },\r\n  [registerUser.fulfilled]: (state, { payload }) => {\r\n    state.token = payload.token\r\n    state.name = payload.user.name\r\n    state.email = payload.user.email\r\n    state.error = ''\r\n    state.isLoading = false\r\n  },\r\n  [registerUser.rejected]: (state, { error }) => {\r\n    state.error = error.message\r\n    state.isLoading = false\r\n  },\r\n  [loginUser.pending]: (state, action) => {\r\n    state.isLoading = true\r\n    state.error = ''\r\n  },\r\n  [loginUser.fulfilled]: (state, { payload }) => {\r\n    state.token = payload.token\r\n    state.name = payload.user.name\r\n    state.email = payload.user.email\r\n    state.error = ''\r\n    state.isLoading = false\r\n  },\r\n  [loginUser.rejected]: (state, { error }) => {\r\n    state.error = error.message\r\n    state.isLoading = false\r\n  },\r\n  [logoutUser.pending]: (state, action) => {\r\n    state.isLoading = true\r\n    state.error = ''\r\n  },\r\n  [logoutUser.fulfilled]: (state, { payload }) => {\r\n    state.token = ''\r\n    state.name = ''\r\n    state.email = ''\r\n    state.error = ''\r\n    state.isLoading = false\r\n  },\r\n  [logoutUser.rejected]: (state, { error }) => {\r\n    state.error = error.message\r\n    state.isLoading = false\r\n  },\r\n})\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport { setupListeners } from '@reduxjs/toolkit/dist/query'\r\nimport { persistStore, persistReducer } from 'redux-persist'\r\nimport storageSession from 'redux-persist/lib/storage/session'\r\nimport logger from 'redux-logger'\r\nimport { contactsReducer } from './Contacts/contacts-reducer'\r\nimport { filterReducer } from './Filter/filter-reducer'\r\nimport { usersReducer } from './Users/users-reducer'\r\n\r\nconst middleware = (getDefaultMiddleware) => [\r\n  ...getDefaultMiddleware(),\r\n  contactsReducer.middleware,\r\n  process.env.NODE_ENV !== 'production' && logger,\r\n]\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage: storageSession,\r\n  whitelist: ['token', 'name', 'email'],\r\n}\r\n\r\nconst persistedUserReducer = persistReducer(persistConfig, usersReducer)\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    users: persistedUserReducer,\r\n    [contactsReducer.reducerPath]: contactsReducer.reducer,\r\n    filter: filterReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n})\r\n\r\nsetupListeners(store.dispatch)\r\n\r\nexport const persistedStore = persistStore(store)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport 'modern-normalize'\r\nimport './index.css'\r\nimport App from './App'\r\nimport { persistedStore, store } from './redux/store'\r\nimport { ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loader={null} persistor={persistedStore}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n        <ToastContainer />\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n)\r\n"],"sourceRoot":""}