{"version":3,"sources":["utilits/messages.js","components/Container/Container.jsx","redux/Contacts/contacts-reducer.js","components/Container/Container.module.css","redux/Auth/auth-selector.js","redux/Filter/filter-actions.js","redux/Users/users-reducer.js","components/UserMenu/List.styled.js","components/UserMenu/Item.styles.js","components/UserMenu/Block.styled.js","components/UserMenu/UserMenu.js","components/FormStyle/Form.styled.js","components/FormStyle/Label.styled.js","components/FormStyle/Input.styled.js","components/FormStyle/Placeholder.styled.js","components/FormStyle/Button.styled.js","components/FormStyle/SpanError.styled.js","components/LoginUser/LoginUser.js","pages/login.js","components/RegisterUser/RegisterUser.js","pages/register.js","App.js","redux/Filter/filter-reducer.js","redux/Auth/auth-slice.js","redux/store.js","index.js"],"names":["option","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","onError","message","toast","error","onWarning","warn","Container","title","children","className","s","container","contactsReducer","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","headers","token","getState","auth","set","tagTypes","endpoints","builder","getContacts","query","providesTags","result","map","el","type","id","addContact","mutation","contact","url","method","body","invalidatesTags","deleteContact","editContact","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","useEditContactMutation","module","exports","getUserName","state","user","name","getToken","setFilter","createAction","usersReducer","registerUser","queryFn","queryApi","extraOptions","a","then","response","status","data","catch","res","loginUser","logoutUser","arg","useRegisterUserMutation","useLoginUserMutation","useLogoutUserMutation","List","styled","ul","Item","li","Block","div","UserMenu","userName","useSelector","logoutUserHook","location","useLocation","console","log","pathname","useEffect","includes","to","onClick","Form","form","Label","label","Input","input","Placeholder","span","Button","SpanError","LoginUser","useState","localStorage","getItem","email","setEmail","password","setPassword","useForm","register","handleSubmit","errors","formState","navigate","useNavigate","isLoading","isSuccess","onChange","e","value","target","setItem","onSubmit","JSON","stringify","required","placeholder","LoginPage","RegisterUser","sessionStorage","setName","registerUserHook","removeItem","RegisterPage","ContactsPage","lazy","App","fallback","path","element","filterReducer","createReducer","_","payload","authSlice","createSlice","initialState","extraReducers","addMatcher","matchFulfilled","persistConfig","key","storage","storageSession","persistedAuthReducer","persistReducer","reducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","setupListeners","dispatch","persistedStore","persistStore","ReactDOM","render","StrictMode","loader","persistor","document","getElementById"],"mappings":"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","file":"static/js/main.1b1aee6a.chunk.js","sourcesContent":["//created by Irina Shushkevych\r\nimport { toast } from 'react-toastify'\r\n\r\nconst option = {\r\n  position: 'top-right',\r\n  autoClose: 5000,\r\n  hideProgressBar: false,\r\n  closeOnClick: true,\r\n  pauseOnHover: true,\r\n  draggable: true,\r\n  progress: undefined,\r\n  theme: 'dark',\r\n}\r\n\r\nexport const onError = (message) => {\r\n  toast.error(message, option)\r\n}\r\n\r\nexport const onWarning = (message) => {\r\n  toast.warn(message, option)\r\n}\r\n\r\nexport const onSuccess = (message) => {\r\n  toast.success(message, option)\r\n}\r\n","//created by Irina Shushkevych\r\nimport PropTypes from 'prop-types'\r\nimport s from './Container.module.css'\r\n\r\nfunction Container({ title = '', children }) {\r\n  return (\r\n    <div className={s.container}>\r\n      {title && <h2 className={s.title}>{title}</h2>}\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nContainer.propTypes = {\r\n  title: PropTypes.string,\r\n  children: PropTypes.node,\r\n}\r\n\r\nexport default Container\r\n","//created by Irina Shushkevych\r\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\n\r\nexport const contactsReducer = createApi({\r\n  reducerPath: 'contacts',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: 'https://connections-api.herokuapp.com/contacts',\r\n    prepareHeaders: (headers, { getState }) => {\r\n      const token = getState().auth.token\r\n      if (token) {\r\n        headers.set('authorization', `Bearer ${token}`)\r\n      }\r\n      return headers\r\n    },\r\n  }),\r\n  tagTypes: ['contacts'],\r\n  endpoints: (builder) => ({\r\n    getContacts: builder.query({\r\n      query: () => '/',\r\n      providesTags: (result) =>\r\n        result\r\n          ? [\r\n              ...result.map((el) => ({ type: 'contacts', id: el.id })),\r\n              'contacts',\r\n            ]\r\n          : ['contacts'],\r\n    }),\r\n    addContact: builder.mutation({\r\n      query: (contact) => {\r\n        return {\r\n          url: '/',\r\n          method: 'POST',\r\n          body: contact,\r\n        }\r\n      },\r\n      invalidatesTags: ['contacts'],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n      query: (id) => ({\r\n        url: `/${id}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: (result) =>\r\n        result ? [{ type: 'contacts', id: result.id }] : ['contacts'],\r\n    }),\r\n    editContact: builder.mutation({\r\n      query: ({ contact, id }) => {\r\n        return {\r\n          url: `/${id}`,\r\n          method: 'PATCH',\r\n          body: contact,\r\n        }\r\n      },\r\n      invalidatesTags: (result) =>\r\n        result\r\n          ? [...result.map((el) => ({ type: 'contacts', id: el.id }))]\r\n          : ['contacts'],\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useGetContactsQuery,\r\n  useAddContactMutation,\r\n  useDeleteContactMutation,\r\n  useEditContactMutation,\r\n} = contactsReducer\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__YdtW5\",\"title\":\"Container_title__UrP9o\"};","//created by Irina Shushkevych\r\nexport const getUserName = (state) => state?.auth?.user?.name ?? null\r\n\r\nexport const getToken = (state) => state?.auth?.token ?? ''\r\n","//created by Irina Shushkevych\r\nimport { createAction } from '@reduxjs/toolkit'\r\n\r\nexport const setFilter = createAction('filter')\r\n","//created by Irina Shushkevych\r\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\n\r\nexport const usersReducer = createApi({\r\n  reducerPath: 'users',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: 'https://connections-api.herokuapp.com/users',\r\n    prepareHeaders: (headers, { getState }) => {\r\n      const token = getState().auth.token\r\n      if (token) {\r\n        headers.set('authorization', `Bearer ${token}`)\r\n      }\r\n      return headers\r\n    },\r\n  }),\r\n  tagTypes: ['user'],\r\n  endpoints: (builder) => ({\r\n    registerUser: builder.mutation({\r\n      queryFn: async (contact, queryApi, extraOptions, baseQuery) => {\r\n        const res = await baseQuery({\r\n          url: '/signup',\r\n          method: 'POST',\r\n          body: contact,\r\n        })\r\n          .then((response) => {\r\n            if (response.error) {\r\n              switch (response.error.status) {\r\n                case 400:\r\n                  return {\r\n                    error: { status: 400, data: 'Wrong email or passwird' },\r\n                  }\r\n                case 404:\r\n                  return {\r\n                    error: { status: 404, data: 'Not found' },\r\n                  }\r\n                case 500:\r\n                  return { error: { status: 500, data: 'Servers error' } }\r\n                default:\r\n                  return response.error\r\n              }\r\n            }\r\n            return response\r\n          })\r\n          .catch((error) => error)\r\n        return res\r\n      },\r\n      invalidatesTags: ['user'],\r\n    }),\r\n    loginUser: builder.mutation({\r\n      queryFn: async (contact, queryApi, extraOptions, baseQuery) => {\r\n        const res = await baseQuery({\r\n          url: `/login`,\r\n          method: 'POST',\r\n          body: contact,\r\n        })\r\n          .then((response) => {\r\n            if (response.error) {\r\n              switch (response.error.status) {\r\n                case 400:\r\n                  return {\r\n                    error: { status: 400, data: 'Wrong email or passwird' },\r\n                  }\r\n                case 404:\r\n                  return {\r\n                    error: { status: 404, data: 'Not found' },\r\n                  }\r\n                default:\r\n                  return response.error\r\n              }\r\n            }\r\n            return response\r\n          })\r\n          .catch((error) => error)\r\n        return res\r\n      },\r\n      invalidatesTags: ['user'],\r\n    }),\r\n    logoutUser: builder.mutation({\r\n      queryFn: async (arg, queryApi, extraOptions, baseQuery) => {\r\n        const res = await baseQuery({\r\n          url: '/logout',\r\n          method: 'POST',\r\n        })\r\n          .then((response) => {\r\n            if (response.error) {\r\n              switch (response.error.status) {\r\n                case 400:\r\n                  return {\r\n                    error: { status: 400, data: 'Wrong email or passwird' },\r\n                  }\r\n                case 404:\r\n                  return {\r\n                    error: { status: 404, data: 'Not found' },\r\n                  }\r\n                default:\r\n                  return response.error\r\n              }\r\n            }\r\n            return response\r\n          })\r\n          .catch((error) => error)\r\n        return res\r\n      },\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useRegisterUserMutation,\r\n  useLoginUserMutation,\r\n  useLogoutUserMutation,\r\n} = usersReducer\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const List = styled.ul`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-left: auto;\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Item = styled.li`\r\n  padding: 20px 20px;\r\n  &:not(last-child) {\r\n    margin-right: 20px;\r\n  }\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Block = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`\r\n","//created by Irina Shushkevych\r\nimport { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Link, Outlet, useLocation } from 'react-router-dom'\r\n\r\nimport { getUserName } from '../../redux/Auth/auth-selector'\r\nimport { useLogoutUserMutation } from '../../redux/Users/users-reducer'\r\nimport Container from '../Container/Container'\r\nimport { onError } from '../../utilits/messages'\r\nimport { List } from './List.styled'\r\nimport { Item } from './Item.styles'\r\nimport { Block } from './Block.styled'\r\n\r\nexport default function UserMenu() {\r\n  const userName = useSelector(getUserName)\r\n  const [logoutUserHook, { error }] = useLogoutUserMutation()\r\n  const location = useLocation()\r\n\r\n  console.log(location)\r\n  console.log(location.pathname)\r\n  console.log(userName)\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      onError(error)\r\n    }\r\n  }, [error])\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Block>\r\n          {userName && !location.pathname.includes('add') && (\r\n            <Link to={`${location.pathname}/add`}>Add contact</Link>\r\n          )}\r\n          <List>\r\n            {!userName ? (\r\n              <>\r\n                <Item>\r\n                  <Link to=\"register\">Register</Link>\r\n                </Item>\r\n                <Item>\r\n                  <Link to=\"login\">LogIn</Link>\r\n                </Item>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Item>Hello, {userName}</Item>\r\n                <Item>\r\n                  <Link\r\n                    to=\"/\"\r\n                    onClick={() => {\r\n                      logoutUserHook()\r\n                    }}\r\n                  >\r\n                    LogOut\r\n                  </Link>\r\n                </Item>\r\n              </>\r\n            )}\r\n          </List>\r\n        </Block>\r\n      </Container>\r\n      <Outlet />\r\n    </>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Form = styled.form`\r\n  width: 400px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  padding: 20px;\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Label = styled.label`\r\n  position: relative;\r\n  display: block;\r\n  margin-bottom: 30px;\r\n  padding-top: 20px;\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Input = styled.input`\r\n  display: block;\r\n  padding: 4px 20px;\r\n  width: 100%;\r\n  border-style: none;\r\n  border-bottom-style: groove;\r\n  border-bottom: 3px solid wheat;\r\n  background: transparent;\r\n  outline: none;\r\n  color: white;\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Placeholder = styled.span`\r\n  display: block;\r\n  position: absolute;\r\n  bottom: 8px;\r\n  left: 20px;\r\n  font-size: 18px;\r\n  transition: 250ms linear;\r\n\r\n  input:focus + &,\r\n  input:not(:placeholder-shown) + & {\r\n    bottom: 80%;\r\n  }\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Button = styled.input`\r\n  padding: 10px;\r\n  border: 1px solid wheat;\r\n  border-radius: 10px;\r\n  background-color: transparent;\r\n  color: wheat;\r\n\r\n  &:not(:last-child) {\r\n    margin-right: 30px;\r\n  }\r\n\r\n  &:hover,\r\n  &:focus {\r\n    color: rgb(6, 255, 247);\r\n    border-color: rgb(6, 255, 247);\r\n  }\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const SpanError = styled.span`\r\n  position: absolute;\r\n  top: 108%;\r\n  left: 20%;\r\n  color: rgb(242, 111, 111);\r\n  font-size: 14px;\r\n`\r\n","//created by Irina Shushkevych\r\nimport { useEffect, useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport { onError } from '../../utilits/messages'\r\nimport { useLoginUserMutation } from '../../redux/Users/users-reducer'\r\nimport { Form } from '../FormStyle/Form.styled'\r\nimport { Label } from '../FormStyle/Label.styled'\r\nimport { Input } from '../FormStyle/Input.styled'\r\nimport { Placeholder } from '../FormStyle/Placeholder.styled'\r\nimport { Button } from '../FormStyle/Button.styled'\r\nimport { SpanError } from '../FormStyle/SpanError.styled'\r\n\r\nexport default function LoginUser() {\r\n  const [email, setEmail] = useState(localStorage.getItem('email') ?? '')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm()\r\n  const navigate = useNavigate()\r\n\r\n  const [\r\n    loginUserHook,\r\n    { isLoading, isSuccess, error },\r\n  ] = useLoginUserMutation()\r\n\r\n  const onSubmit = (data) => {\r\n    console.log(JSON.stringify(data))\r\n    // loginUserHook({ email, password })\r\n  }\r\n\r\n  const onCancel = () => {\r\n    navigate('/')\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    const value = e.target.value\r\n    switch (e.target.name) {\r\n      case 'email':\r\n        setEmail(value)\r\n        localStorage.setItem('email', value)\r\n        break\r\n      case 'password':\r\n        setPassword(value)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      onError(error.data)\r\n    }\r\n  }, [error])\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      setEmail('')\r\n      setPassword('')\r\n      navigate('/contacts')\r\n    }\r\n  }, [isSuccess, navigate])\r\n\r\n  console.log('ERROR FORM', errors)\r\n  console.log(errors?.password?.type)\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <h3>Loading....</h3>}\r\n      <Form onSubmit={handleSubmit(onSubmit)}>\r\n        <Label>\r\n          <Input\r\n            type=\"email\"\r\n            {...register('email', { required: true })}\r\n            onChange={onChange}\r\n            value={email}\r\n            placeholder=\" \"\r\n          />\r\n          <Placeholder>E-mail</Placeholder>\r\n          {errors?.email?.type === 'required' && (\r\n            <SpanError>Email is required</SpanError>\r\n          )}\r\n        </Label>\r\n        <Label>\r\n          <Input\r\n            type=\"password\"\r\n            {...register('password', { required: true })}\r\n            onChange={onChange}\r\n            value={password}\r\n            placeholder=\" \"\r\n          />\r\n          <Placeholder>Password</Placeholder>\r\n          {errors?.password?.type === 'required' && (\r\n            <SpanError>Password is required</SpanError>\r\n          )}\r\n        </Label>\r\n        <Button type=\"button\" onClick={onCancel} value=\"Cancel\" />\r\n        {/* Cancel\r\n        </Button> */}\r\n        <Button type=\"submit\" value=\"Log in\" />\r\n      </Form>\r\n    </>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport Container from '../components/Container/Container'\r\nimport LoginUser from '../components/LoginUser'\r\n\r\nexport default function LoginPage() {\r\n  return (\r\n    <Container>\r\n      <h2>Form Login</h2>\r\n      <LoginUser />\r\n    </Container>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport { useForm } from 'react-hook-form'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useEffect, useState } from 'react'\r\nimport { onError } from '../../utilits/messages'\r\nimport { useRegisterUserMutation } from '../../redux/Users/users-reducer'\r\n\r\nexport default function RegisterUser() {\r\n  const [name, setName] = useState(sessionStorage.getItem('name') ?? '')\r\n  const [email, setEmail] = useState(sessionStorage.getItem('email') ?? '')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm()\r\n  const navigate = useNavigate()\r\n  const [\r\n    registerUserHook,\r\n    { isLoading, error, isSuccess },\r\n  ] = useRegisterUserMutation()\r\n\r\n  const onSubmit = async (data) => {\r\n    registerUserHook({\r\n      name,\r\n      email,\r\n      password,\r\n    })\r\n  }\r\n\r\n  const onCancel = () => {\r\n    sessionStorage.removeItem('name')\r\n    sessionStorage.removeItem('email')\r\n    navigate('/')\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    const value = e.target.value\r\n    switch (e.target.name) {\r\n      case 'name':\r\n        setName(value)\r\n        sessionStorage.setItem('name', value)\r\n        break\r\n      case 'email':\r\n        setEmail(value)\r\n        sessionStorage.setItem('email', value)\r\n        break\r\n      case 'password':\r\n        setPassword(value)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      onError(error.data)\r\n    }\r\n  }, [error])\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      setName('')\r\n      setEmail('')\r\n      setPassword('')\r\n      sessionStorage.removeItem('name')\r\n      sessionStorage.removeItem('email')\r\n      navigate('/contacts')\r\n    }\r\n  }, [isSuccess])\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <h3>Loading....</h3>}\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <label>\r\n          name\r\n          <input {...register('name')} value={name} onChange={onChange} />\r\n        </label>\r\n        <label>\r\n          email\r\n          <input\r\n            type=\"email\"\r\n            {...register('email', { required: true })}\r\n            onChange={onChange}\r\n            value={email}\r\n          />\r\n          {errors.email?.type === 'required' && 'Email is required'}\r\n        </label>\r\n        <label>\r\n          password\r\n          <input\r\n            type=\"password\"\r\n            {...register('password', { required: true })}\r\n            onChange={onChange}\r\n            value={password}\r\n          />\r\n          {errors.password?.type === 'required' && 'Password is required'}\r\n        </label>\r\n        <button type=\"button\" onClick={onCancel}>\r\n          Cancel\r\n        </button>\r\n        <button type=\"submit\">Register</button>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport Container from '../components/Container/Container'\r\nimport RegisterUser from '../components/RegisterUser/RegisterUser'\r\n\r\nexport default function RegisterPage() {\r\n  return (\r\n    <Container>\r\n      <h2>Form Register</h2>\r\n      <RegisterUser />\r\n    </Container>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport { Route, Routes, Navigate } from 'react-router-dom'\r\nimport { lazy, Suspense } from 'react'\r\n\r\nimport './App.css'\r\n\r\nimport UserMenu from './components/UserMenu'\r\nimport LoginPage from './pages/login'\r\nimport RegisterPage from './pages/register'\r\n\r\nconst ContactsPage = lazy(() => import('./pages/contacts'))\r\n\r\nexport default function App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Suspense fallback={<p>Loading....</p>}>\r\n        <Routes>\r\n          <Route path=\"/\" element={<UserMenu />}>\r\n            <Route path=\"login\" element={<LoginPage />} />\r\n            <Route path=\"register\" element={<RegisterPage />} />\r\n            <Route path=\"contacts/*\" element={<ContactsPage />} />\r\n          </Route>\r\n          <Route path=\"*\" element={<Navigate to=\"/\" />} />\r\n        </Routes>\r\n      </Suspense>\r\n    </div>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nimport { setFilter } from './filter-actions'\r\n\r\nexport const filterReducer = createReducer('', {\r\n  [setFilter]: (_, { payload }) => payload,\r\n})\r\n","//created by Irina Shushkevych\r\nimport { createSlice } from '@reduxjs/toolkit'\r\nimport { usersReducer } from '../Users/users-reducer'\r\n\r\nexport const authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState: { token: null, user: null },\r\n  extraReducers: (builder) => {\r\n    builder.addMatcher(\r\n      usersReducer.endpoints.registerUser.matchFulfilled,\r\n      (state, { payload }) => {\r\n        state.token = payload.token\r\n        state.user = payload.user\r\n      },\r\n    )\r\n    builder.addMatcher(\r\n      usersReducer.endpoints.loginUser.matchFulfilled,\r\n      (state, { payload }) => {\r\n        state.token = payload.token\r\n        state.user = payload.user\r\n      },\r\n    )\r\n    builder.addMatcher(\r\n      usersReducer.endpoints.logoutUser.matchFulfilled,\r\n      (state, { payload }) => {\r\n        state.token = null\r\n        state.user = null\r\n      },\r\n    )\r\n  },\r\n})\r\n","//created by Irina Shushkevych\r\nimport { configureStore } from '@reduxjs/toolkit'\r\nimport { setupListeners } from '@reduxjs/toolkit/dist/query'\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist'\r\nimport storageSession from 'redux-persist/lib/storage/session'\r\nimport logger from 'redux-logger'\r\nimport { contactsReducer } from './Contacts/contacts-reducer'\r\nimport { filterReducer } from './Filter/filter-reducer'\r\nimport { usersReducer } from './Users/users-reducer'\r\nimport { authSlice } from './Auth/auth-slice'\r\n\r\nconst middleware = (getDefaultMiddleware) => [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  contactsReducer.middleware,\r\n  usersReducer.middleware,\r\n  // process.env.NODE_ENV !== 'production' && logger,\r\n]\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage: storageSession,\r\n}\r\n\r\nconst persistedAuthReducer = persistReducer(persistConfig, authSlice.reducer)\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    [usersReducer.reducerPath]: usersReducer.reducer,\r\n    [contactsReducer.reducerPath]: contactsReducer.reducer,\r\n    [authSlice.name]: persistedAuthReducer,\r\n    filter: filterReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n})\r\n\r\nsetupListeners(store.dispatch)\r\n\r\nexport const persistedStore = persistStore(store)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport 'modern-normalize'\r\nimport './index.css'\r\nimport App from './App'\r\nimport { persistedStore, store } from './redux/store'\r\nimport { ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loader={null} persistor={persistedStore}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n        <ToastContainer />\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n)\r\n"],"sourceRoot":""}