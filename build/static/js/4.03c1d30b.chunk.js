(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{102:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return D}));var n,c=a(35),s=a(27),r=a(7),o=a(0),i=a(19),l=a(81),b=a.n(l),j=a(10),d=a(11).a.button(n||(n=Object(j.a)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  width: 50px;\n  height: 50px;\n  padding: 0;\n  border: none;\n  cursor: pointer;\n  color: wheat;\n  background: transparent;\n"]))),u=a(82),m=a.n(u),h=a(3),O=a(1);function p(){var t=Object(h.g)(),e=Object(h.h)();return Object(O.jsx)(d,{onClick:function(){var a=t.pathname.split("/");a.length-=1,e(a.join("/"))},children:Object(O.jsx)(m.a,{fontSize:"large"})})}function x(){var t=Object(o.useState)(""),e=Object(r.a)(t,2),a=e[0],n=e[1],s=Object(o.useState)(""),l=Object(r.a)(s,2),j=l[0],d=l[1],u=Object(c.e)().data,m=Object(c.b)(),h=Object(r.a)(m,2),x=h[0],f=h[1].error;Object(o.useEffect)((function(){f&&Object(i.a)("".concat(f.status," ").concat(f.data.msg))}),[f]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p,{}),Object(O.jsxs)("form",{className:b.a.mainForm,onSubmit:function(t){t.preventDefault();var e={name:a,number:j};u&&0!==u.filter((function(t){return t.name.toLowerCase()===a.toLowerCase()})).length?Object(i.b)("Contacts ".concat(a," already exist")):x(e),n(""),d("")},children:[Object(O.jsxs)("label",{htmlFor:"name",className:b.a.label,children:["Name",Object(O.jsx)("input",{type:"text",name:"name",className:b.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:a,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(t){n(t.target.value)}})]}),Object(O.jsxs)("label",{htmlFor:"number",className:b.a.label,children:["Phone",Object(O.jsx)("input",{type:"tel",name:"number",className:b.a.input,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:j,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(t){d(t.target.value)}})]}),Object(O.jsx)("button",{type:"submit",className:b.a.button,children:"Add contact"})]})]})}var f,_=a(9),g=a(83),C=a.n(g),v=function(t){return t.filter},N=a(93),w=a.n(N),z=a(90),y=a.n(z),A=a(91),k=a.n(A),F=a(92),S=a.n(F),Z=a(84),P=a.n(Z),q=a(51),I=a(85),B=a.n(I),J=Object(q.css)(f||(f=Object(j.a)(["\n  display: block;\n  margin: 0px 6px;\n"])));var L=function(t){var e=t.size,a=void 0===e?50:e;return Object(O.jsx)(B.a,{color:"rgb(6, 255, 247)",loading:true,css:J,size:a})};function T(t){var e=t.id,a=t.nameContact,n=t.numberContact,s=Object(o.useState)(!1),l=Object(r.a)(s,2),b=l[0],j=l[1],d=Object(o.useState)(a),u=Object(r.a)(d,2),m=u[0],h=u[1],p=Object(o.useState)(n),x=Object(r.a)(p,2),f=x[0],_=x[1],g=Object(c.c)(),C=Object(r.a)(g,2),v=C[0],N=C[1],z=N.isLoading,A=N.error,F=Object(c.d)(),Z=Object(r.a)(F,2),q=Z[0],I=Z[1].error;Object(o.useEffect)((function(){A&&Object(i.a)("".concat(A.status," ").concat(A.data.msg))}),[A]),Object(o.useEffect)((function(){I&&(Object(i.a)("".concat(I.status," ").concat(I.data.msg)),h(a),_(n))}),[I]);var B=function(t){t?q({contact:{name:m,number:f},id:e}):(h(a),_(n)),j(!1)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{className:P.a.cell,width:"33%",children:b?Object(O.jsx)("input",{type:"text",name:"name",className:P.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:m,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(t){h(t.target.value)}}):Object(O.jsx)("span",{className:P.a.itemText,children:m})}),Object(O.jsx)("td",{className:P.a.cell,width:"33%",children:b?Object(O.jsx)("input",{type:"tel",name:"number",className:P.a.input,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:f,title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:function(t){_(t.target.value)}}):Object(O.jsx)("span",{className:P.a.itemText,children:f})}),Object(O.jsxs)("td",{className:P.a.cell,width:"33%",children:[!b&&Object(O.jsx)("button",{type:"button",className:P.a.button,"data-id":e,onClick:function(){j(!0)},disabled:z,children:Object(O.jsx)(y.a,{fontSize:"small"})}),b&&Object(O.jsx)("button",{type:"button",className:P.a.button,"data-id":e,onClick:function(){B(!0)},disabled:z,children:Object(O.jsx)(k.a,{fontSize:"small"})}),b&&Object(O.jsx)("button",{type:"button",className:P.a.button,"data-id":e,onClick:function(){B(!1)},disabled:z,children:Object(O.jsx)(S.a,{fontSize:"small"})}),Object(O.jsxs)("button",{type:"button",className:P.a.button,"data-id":e,onClick:function(){v(e)},disabled:z,children:[z&&Object(O.jsx)(L,{size:15}),Object(O.jsx)(w.a,{fontSize:"small"})]})]})]})}function E(){var t=Object(c.e)(),e=t.data,a=t.error,n=t.isFetching;Object(o.useEffect)((function(){a&&Object(i.a)("".concat(a.status," ").concat(a.data))}),[a]);var s=Object(_.e)(v);return Object(O.jsxs)(O.Fragment,{children:[n&&Object(O.jsx)(L,{}),Object(O.jsxs)("table",{width:"100%",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:[C.a.rowHead],children:[Object(O.jsx)("th",{className:C.a.cell,children:"Name"}),Object(O.jsx)("th",{className:C.a.cell,children:"Phone"}),Object(O.jsx)("th",{className:C.a.cell})]})}),Object(O.jsx)("tbody",{children:e&&e.filter((function(t){return null===t||void 0===t?void 0:t.name.toUpperCase().includes(s.toUpperCase())})).map((function(t){return Object(O.jsx)("tr",{className:C.a.row,children:Object(O.jsx)(T,{id:t.id,nameContact:t.name,numberContact:t.number})},t.id)}))})]})]})}var H=a(94),M=a.n(H),U=a(45);function $(){var t=Object(_.e)(v),e=Object(_.d)();return Object(O.jsxs)("label",{htmlFor:"name",className:M.a.label,children:["Find contact by name",Object(O.jsx)("input",{type:"text",name:"name",className:M.a.input,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:t,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onInput:function(t){var a;a=t.target.value,e(Object(U.a)(a))}})]})}function D(){var t=Object(c.e)().data;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.e,{children:Object(O.jsx)(h.c,{path:"add",element:Object(O.jsx)(s.a,{title:"Phonebook",children:Object(O.jsx)(x,{})})})}),Object(O.jsxs)(s.a,{title:"Contacts",children:[t&&t.length>=2&&Object(O.jsx)($,{}),Object(O.jsx)(E,{})]})]})}},81:function(t,e,a){t.exports={mainForm:"Phonebook_mainForm__1vSBA",label:"Phonebook_label__2gNkL",input:"Phonebook_input__2dZzU",button:"Phonebook_button__1g3Um"}},83:function(t,e,a){t.exports={list:"Contacts_list__8lH_7",item:"Contacts_item__LcJzr",row:"Contacts_row__2lBnc",rowHead:"Contacts_rowHead__2sZ-0",cell:"Contacts_cell__2aChh"}},84:function(t,e,a){t.exports={itemText:"ContactItem_itemText__1g5Wr",button:"ContactItem_button__3niij",input:"ContactItem_input__3TcMB",row:"ContactItem_row__3nvY9",cell:"ContactItem_cell__2qIls"}},94:function(t,e,a){t.exports={label:"Filter_label___RAql",input:"Filter_input__30aPy"}}}]);
//# sourceMappingURL=4.03c1d30b.chunk.js.map