{"version":3,"sources":["utilits/messages.js","components/Container/Container.jsx","redux/Contacts/contacts-reducer.js","components/Container/Container.module.css","components/ContainerPage/ContainerPage.module.css","redux/Filter/filter-actions.js","redux/Auth/auth-selector.js","redux/Users/users-reducer.js","components/UserMenu/List.styled.js","components/UserMenu/Item.styles.js","components/UserMenu/Block.styled.js","components/UserMenu/UserMenu.js","components/FormStyle/Form.styled.js","components/FormStyle/Label.styled.js","components/FormStyle/Input.styled.js","components/FormStyle/Placeholder.styled.js","components/FormStyle/Button.styled.js","components/FormStyle/SpanError.styled.js","components/LoginUser/LoginUser.js","pages/login.js","components/RegisterUser/RegisterUser.js","pages/register.js","components/PublicRoute/PublicRoute.js","components/PrivetRoute/PrivetRoute.js","App.js","redux/Filter/filter-reducer.js","redux/Auth/auth-slice.js","redux/store.js","components/ContainerPage/ContainerPage.jsx","index.js"],"names":["option","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","onError","message","toast","error","onWarning","warn","Container","title","children","size","className","s","containerFull","container","contactsReducer","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","headers","token","getState","auth","set","keepUnusedDataFor","tagTypes","endpoints","builder","getContacts","query","providesTags","result","map","el","type","id","addContact","mutation","contact","url","method","body","invalidatesTags","deleteContact","editContact","useGetContactsQuery","useQuerySubscription","useAddContactMutation","useDeleteContactMutation","useEditContactMutation","module","exports","setFilter","createAction","getUserName","state","user","name","authUser","usersReducer","registerUser","queryFn","queryApi","extraOptions","a","then","response","status","data","catch","res","loginUser","logoutUser","arg","getUser","email","useRegisterUserMutation","useLoginUserMutation","useLogoutUserMutation","useGetUserQuery","List","styled","ul","Item","li","Block","div","UserMenu","userName","useSelector","logoutUserHook","location","useLocation","useEffect","pathname","includes","to","onClick","Form","form","Label","label","Input","input","Placeholder","span","Button","button","SpanError","LoginUser","useState","localStorage","getItem","setEmail","password","setPassword","useForm","register","handleSubmit","setValue","errors","formState","navigate","useNavigate","loginUserHook","isLoading","isSuccess","onChange","e","value","target","setItem","onSubmit","htmlFor","required","placeholder","minLength","LoginPage","RegisterUser","sessionStorage","setName","registerUserHook","removeItem","pattern","RegisterPage","PublicRoute","redirectTo","restricted","element","PrivateRoute","ContactsPage","lazy","App","fallback","path","filterReducer","createReducer","_","payload","authSlice","createSlice","initialState","extraReducers","addMatcher","matchFulfilled","isLogged","persistConfig","key","storage","storageSession","whitelist","persistedAuthReducer","persistReducer","reducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","setupListeners","dispatch","persistedStore","persistStore","ContainerPage","ReactDOM","render","StrictMode","loader","persistor","document","getElementById"],"mappings":"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","file":"static/js/main.efa1c0fe.chunk.js","sourcesContent":["//created by Irina Shushkevych\r\nimport { toast } from 'react-toastify'\r\n\r\nconst option = {\r\n  position: 'top-right',\r\n  autoClose: 5000,\r\n  hideProgressBar: false,\r\n  closeOnClick: true,\r\n  pauseOnHover: true,\r\n  draggable: true,\r\n  progress: undefined,\r\n  theme: 'dark',\r\n}\r\n\r\nexport const onError = (message) => {\r\n  toast.error(message, option)\r\n}\r\n\r\nexport const onWarning = (message) => {\r\n  toast.warn(message, option)\r\n}\r\n\r\nexport const onSuccess = (message) => {\r\n  toast.success(message, option)\r\n}\r\n","//created by Irina Shushkevych\r\nimport PropTypes from 'prop-types'\r\nimport s from './Container.module.css'\r\n\r\nfunction Container({ title = '', children, size = 'small' }) {\r\n  return (\r\n    <div className={!size || size === 'small' ? s.container : s.containerFull}>\r\n      {title && <h2 className={s.title}>{title}</h2>}\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nContainer.propTypes = {\r\n  title: PropTypes.string,\r\n  children: PropTypes.node,\r\n  size: PropTypes.oneOf(['small', 'full']),\r\n}\r\n\r\nexport default Container\r\n","//created by Irina Shushkevych\r\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\n\r\nexport const contactsReducer = createApi({\r\n  reducerPath: 'contacts',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: 'https://connections-api.herokuapp.com/contacts',\r\n    prepareHeaders: (headers, { getState }) => {\r\n      const token = getState().auth.token\r\n      if (token) {\r\n        headers.set('authorization', `Bearer ${token}`)\r\n      }\r\n      return headers\r\n    },\r\n  }),\r\n\r\n  // refetchOnMountOrArgChange: true,\r\n  keepUnusedDataFor: 0,\r\n  tagTypes: ['contacts'],\r\n  endpoints: (builder) => ({\r\n    getContacts: builder.query({\r\n      query: (...prop) => '/',\r\n      providesTags: (result) =>\r\n        result\r\n          ? [\r\n              ...result.map((el) => ({ type: 'contacts', id: el.id })),\r\n              'contacts',\r\n            ]\r\n          : ['contacts'],\r\n    }),\r\n    addContact: builder.mutation({\r\n      query: (contact) => {\r\n        return {\r\n          url: '/',\r\n          method: 'POST',\r\n          body: contact,\r\n        }\r\n      },\r\n      invalidatesTags: ['contacts'],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n      query: (id) => ({\r\n        url: `/${id}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: (result) =>\r\n        result ? [{ type: 'contacts', id: result.id }] : ['contacts'],\r\n    }),\r\n    editContact: builder.mutation({\r\n      query: ({ contact, id }) => {\r\n        return {\r\n          url: `/${id}`,\r\n          method: 'PATCH',\r\n          body: contact,\r\n        }\r\n      },\r\n      invalidatesTags: (result) =>\r\n        result\r\n          ? [...result.map((el) => ({ type: 'contacts', id: el.id }))]\r\n          : ['contacts'],\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const getContacts =\r\n  contactsReducer.endpoints.getContacts.useQuerySubscription\r\n\r\nexport const {\r\n  useGetContactsQuery,\r\n  useAddContactMutation,\r\n  useDeleteContactMutation,\r\n  useEditContactMutation,\r\n} = contactsReducer\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__YdtW5\",\"containerFull\":\"Container_containerFull__2KSIO\",\"title\":\"Container_title__UrP9o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ContainerPage_container__2Wrq6\",\"title\":\"ContainerPage_title__d7nRA\"};","//created by Irina Shushkevych\r\nimport { createAction } from '@reduxjs/toolkit'\r\n\r\nexport const setFilter = createAction('filter')\r\n","//created by Irina Shushkevych\r\nexport const getUserName = (state) => state?.auth?.user?.name ?? null\r\n\r\nexport const authUser = (state) => (state?.auth?.token ? true : false)\r\n\r\nexport const getToken = (state) => state?.auth?.token\r\n","//created by Irina Shushkevych\r\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\n\r\nexport const usersReducer = createApi({\r\n  reducerPath: 'users',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: 'https://connections-api.herokuapp.com/users',\r\n    prepareHeaders: (headers, { getState }) => {\r\n      const token = getState().auth.token\r\n      if (token) {\r\n        headers.set('authorization', `Bearer ${token}`)\r\n      }\r\n      return headers\r\n    },\r\n  }),\r\n  tagTypes: ['user'],\r\n  endpoints: (builder) => ({\r\n    registerUser: builder.mutation({\r\n      queryFn: async (contact, queryApi, extraOptions, baseQuery) => {\r\n        const res = await baseQuery({\r\n          url: '/signup',\r\n          method: 'POST',\r\n          body: contact,\r\n        })\r\n          .then((response) => {\r\n            if (response.error) {\r\n              switch (response.error.status) {\r\n                case 400:\r\n                  return {\r\n                    error: { status: 400, data: 'Wrong email or passwird' },\r\n                  }\r\n                case 404:\r\n                  return {\r\n                    error: { status: 404, data: 'Not found' },\r\n                  }\r\n                case 500:\r\n                  return { error: { status: 500, data: 'Servers error' } }\r\n                default:\r\n                  return response.error\r\n              }\r\n            }\r\n            return response\r\n          })\r\n          .catch((error) => error)\r\n        return res\r\n      },\r\n      invalidatesTags: ['user'],\r\n    }),\r\n    loginUser: builder.mutation({\r\n      queryFn: async (contact, queryApi, extraOptions, baseQuery) => {\r\n        const res = await baseQuery({\r\n          url: `/login`,\r\n          method: 'POST',\r\n          body: contact,\r\n        })\r\n          .then((response) => {\r\n            if (response.error) {\r\n              switch (response.error.status) {\r\n                case 400:\r\n                  return {\r\n                    error: { status: 400, data: 'Wrong email or passwird' },\r\n                  }\r\n                case 404:\r\n                  return {\r\n                    error: { status: 404, data: 'Not found' },\r\n                  }\r\n                default:\r\n                  return response.error\r\n              }\r\n            }\r\n            return response\r\n          })\r\n          .catch((error) => error)\r\n        return res\r\n      },\r\n      invalidatesTags: ['user'],\r\n    }),\r\n    logoutUser: builder.mutation({\r\n      queryFn: async (arg, queryApi, extraOptions, baseQuery) => {\r\n        const res = await baseQuery({\r\n          url: '/logout',\r\n          method: 'POST',\r\n        })\r\n          .then((response) => {\r\n            if (response.error) {\r\n              switch (response.error.status) {\r\n                case 401:\r\n                  return {\r\n                    error: { status: 401, data: 'No authorization' },\r\n                  }\r\n                case 404:\r\n                  return {\r\n                    error: { status: 404, data: 'Not found' },\r\n                  }\r\n                case 500:\r\n                  return {\r\n                    error: { status: 500, data: 'Servers error' },\r\n                  }\r\n                default:\r\n                  return response.error\r\n              }\r\n            }\r\n            return response\r\n          })\r\n          .catch((error) => error)\r\n        return res\r\n      },\r\n    }),\r\n    getUser: builder.query({\r\n      queryFn: async (arg, queryApi, extraOptions, baseQuery) => {\r\n        if (!queryApi.getState().auth.token) {\r\n          return { data: { name: null, email: null } }\r\n        }\r\n        const res = await baseQuery({\r\n          url: '/current',\r\n        })\r\n          .then((response) => {\r\n            if (response.error) {\r\n              switch (response.error.status) {\r\n                case 401:\r\n                  return {\r\n                    error: { status: 401, data: 'No authorization' },\r\n                  }\r\n                case 404:\r\n                  return {\r\n                    error: { status: 404, data: 'Not found' },\r\n                  }\r\n                default:\r\n                  return response.error\r\n              }\r\n            }\r\n            return response\r\n          })\r\n          .catch((error) => error)\r\n        return res\r\n      },\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useRegisterUserMutation,\r\n  useLoginUserMutation,\r\n  useLogoutUserMutation,\r\n  useGetUserQuery,\r\n} = usersReducer\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const List = styled.ul`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-left: auto;\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Item = styled.li`\r\n  padding: 20px 20px;\r\n  &:not(last-child) {\r\n    margin-right: 20px;\r\n  }\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Block = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`\r\n","//created by Irina Shushkevych\r\nimport { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Link, Outlet, useLocation } from 'react-router-dom'\r\n\r\nimport { getUserName } from '../../redux/Auth/auth-selector'\r\nimport { useLogoutUserMutation } from '../../redux/Users/users-reducer'\r\nimport Container from '../Container/Container'\r\nimport { onError } from '../../utilits/messages'\r\nimport { List } from './List.styled'\r\nimport { Item } from './Item.styles'\r\nimport { Block } from './Block.styled'\r\n\r\nexport default function UserMenu() {\r\n  const userName = useSelector(getUserName)\r\n  const [logoutUserHook, { error }] = useLogoutUserMutation()\r\n  const location = useLocation()\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      onError(error)\r\n    }\r\n  }, [error])\r\n\r\n  return (\r\n    <>\r\n      <Container size=\"full\">\r\n        <Block>\r\n          {userName && !location.pathname.includes('add') && (\r\n            <Link to={`${location.pathname}/add`}>Add contact</Link>\r\n          )}\r\n          <List>\r\n            {!userName ? (\r\n              <>\r\n                <Item>\r\n                  <Link to=\"register\">Register</Link>\r\n                </Item>\r\n                <Item>\r\n                  <Link to=\"login\">LogIn</Link>\r\n                </Item>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Item>Hello, {userName}</Item>\r\n                <Item>\r\n                  <Link\r\n                    to=\"/\"\r\n                    onClick={() => {\r\n                      logoutUserHook()\r\n                    }}\r\n                  >\r\n                    LogOut\r\n                  </Link>\r\n                </Item>\r\n              </>\r\n            )}\r\n          </List>\r\n        </Block>\r\n      </Container>\r\n      <Outlet />\r\n    </>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Form = styled.form`\r\n  width: 400px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  padding: 20px;\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Label = styled.label`\r\n  position: relative;\r\n  display: block;\r\n  margin-bottom: 30px;\r\n  padding-top: 20px;\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Input = styled.input`\r\n  display: block;\r\n  padding: 4px 20px;\r\n  width: 100%;\r\n  border-style: none;\r\n  border-bottom-style: groove;\r\n  border-bottom: 3px solid wheat;\r\n  background: transparent;\r\n  outline: none;\r\n  color: white;\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Placeholder = styled.span`\r\n  display: block;\r\n  position: absolute;\r\n  bottom: 8px;\r\n  left: 20px;\r\n  font-size: 18px;\r\n  pointer-events: none;\r\n  transition: 250ms linear;\r\n\r\n  input:focus + &,\r\n  input:not(:placeholder-shown) + & {\r\n    bottom: 80%;\r\n  }\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const Button = styled.button`\r\n  padding: 10px;\r\n  border: 1px solid wheat;\r\n  border-radius: 10px;\r\n  background-color: transparent;\r\n  color: wheat;\r\n\r\n  &:not(:last-child) {\r\n    margin-right: 30px;\r\n  }\r\n\r\n  &:hover,\r\n  &:focus {\r\n    color: rgb(6, 255, 247);\r\n    border-color: rgb(6, 255, 247);\r\n  }\r\n`\r\n","//created by Irina Shushkevych\r\nimport styled from '@emotion/styled'\r\n\r\nexport const SpanError = styled.span`\r\n  position: absolute;\r\n  top: 108%;\r\n  left: 20%;\r\n  color: rgb(242, 111, 111);\r\n  font-size: 14px;\r\n`\r\n","//created by Irina Shushkevych\r\nimport { useEffect, useState } from 'react'\r\nimport { useForm, useWatch } from 'react-hook-form'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport { onError } from '../../utilits/messages'\r\nimport { useLoginUserMutation } from '../../redux/Users/users-reducer'\r\nimport { Form } from '../FormStyle/Form.styled'\r\nimport { Label } from '../FormStyle/Label.styled'\r\nimport { Input } from '../FormStyle/Input.styled'\r\nimport { Placeholder } from '../FormStyle/Placeholder.styled'\r\nimport { Button } from '../FormStyle/Button.styled'\r\nimport { SpanError } from '../FormStyle/SpanError.styled'\r\n\r\nexport default function LoginUser() {\r\n  const [email, setEmail] = useState(localStorage.getItem('email') ?? '')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useForm()\r\n  const navigate = useNavigate()\r\n\r\n  const [\r\n    loginUserHook,\r\n    { isLoading, isSuccess, error },\r\n  ] = useLoginUserMutation()\r\n\r\n  const onSubmit = (data) => {\r\n    loginUserHook({ email, password })\r\n  }\r\n\r\n  const onCancel = () => {\r\n    navigate('/')\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    const value = e.target.value\r\n    switch (e.target.name) {\r\n      case 'email':\r\n        setEmail(value)\r\n        setValue('email', value)\r\n        localStorage.setItem('email', value)\r\n        break\r\n      case 'password':\r\n        setPassword(value)\r\n        setValue('password', value)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      onError(error.data)\r\n    }\r\n  }, [error])\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      setEmail('')\r\n      setPassword('')\r\n      navigate('/contacts')\r\n    }\r\n  }, [isSuccess, navigate])\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <h3>Loading....</h3>}\r\n      <Form onSubmit={handleSubmit(onSubmit)}>\r\n        <Label htmlFor=\"email\">\r\n          <Input\r\n            {...register('email', {\r\n              required: true,\r\n            })}\r\n            type=\"email\"\r\n            onChange={onChange}\r\n            value={email}\r\n            placeholder=\" \"\r\n          />\r\n          <Placeholder>E-mail</Placeholder>\r\n          {errors?.email?.type === 'required' && (\r\n            <SpanError>Email is required</SpanError>\r\n          )}\r\n        </Label>\r\n        <Label htmlFor=\"password\">\r\n          <Input\r\n            {...register('password', { required: true, minLength: 6 })}\r\n            type=\"password\"\r\n            onChange={onChange}\r\n            value={password}\r\n            placeholder=\" \"\r\n          />\r\n          <Placeholder>Password</Placeholder>\r\n          {errors?.password?.type === 'required' && (\r\n            <SpanError>Password is required</SpanError>\r\n          )}\r\n          {errors.password?.type === 'minLength' && (\r\n            <SpanError>Password is short</SpanError>\r\n          )}\r\n        </Label>\r\n        <Button type=\"submit\">Log in</Button>\r\n        <Button type=\"button\" onClick={onCancel}>\r\n          Cancel\r\n        </Button>\r\n      </Form>\r\n    </>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport Container from '../components/Container/Container'\r\nimport LoginUser from '../components/LoginUser'\r\n\r\nexport default function LoginPage() {\r\n  return (\r\n    <Container>\r\n      <h2>Form Login</h2>\r\n      <LoginUser />\r\n    </Container>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport { useForm } from 'react-hook-form'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useEffect, useState } from 'react'\r\nimport { onError } from '../../utilits/messages'\r\nimport { useRegisterUserMutation } from '../../redux/Users/users-reducer'\r\nimport { Form } from '../FormStyle/Form.styled'\r\nimport { Label } from '../FormStyle/Label.styled'\r\nimport { Input } from '../FormStyle/Input.styled'\r\nimport { Placeholder } from '../FormStyle/Placeholder.styled'\r\nimport { Button } from '../FormStyle/Button.styled'\r\nimport { SpanError } from '../FormStyle/SpanError.styled'\r\n\r\nexport default function RegisterUser() {\r\n  const [name, setName] = useState(sessionStorage.getItem('name') ?? '')\r\n  const [email, setEmail] = useState(sessionStorage.getItem('email') ?? '')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useForm()\r\n  const navigate = useNavigate()\r\n  const [\r\n    registerUserHook,\r\n    { isLoading, error, isSuccess },\r\n  ] = useRegisterUserMutation()\r\n\r\n  const onSubmit = async (data) => {\r\n    registerUserHook({\r\n      name,\r\n      email,\r\n      password,\r\n    })\r\n  }\r\n\r\n  const onCancel = () => {\r\n    sessionStorage.removeItem('name')\r\n    sessionStorage.removeItem('email')\r\n    navigate('/')\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    const value = e.target.value\r\n    switch (e.target.name) {\r\n      case 'name':\r\n        setName(value)\r\n        setValue('name', value)\r\n        sessionStorage.setItem('name', value)\r\n        break\r\n      case 'email':\r\n        setEmail(value)\r\n        setValue('email', value)\r\n        sessionStorage.setItem('email', value)\r\n        break\r\n      case 'password':\r\n        setPassword(value)\r\n        setValue('password', value)\r\n        break\r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      onError(error.data)\r\n    }\r\n  }, [error])\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      setName('')\r\n      setEmail('')\r\n      setPassword('')\r\n      sessionStorage.removeItem('name')\r\n      sessionStorage.removeItem('email')\r\n      navigate('/contacts')\r\n    }\r\n  }, [isSuccess])\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <h3>Loading....</h3>}\r\n      <Form onSubmit={handleSubmit(onSubmit)}>\r\n        <Label>\r\n          <Input\r\n            {...register('name', {\r\n              required: true,\r\n              pattern: /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/,\r\n            })}\r\n            value={name}\r\n            onChange={onChange}\r\n            placeholder=\" \"\r\n          />\r\n          <Placeholder>Name</Placeholder>\r\n          {errors?.name?.type === 'pattern' && (\r\n            <SpanError>Error in name</SpanError>\r\n          )}\r\n        </Label>\r\n        <Label>\r\n          <Input\r\n            type=\"email\"\r\n            {...register('email', { required: true })}\r\n            onChange={onChange}\r\n            value={email}\r\n            placeholder=\" \"\r\n          />\r\n          <Placeholder>E-mail</Placeholder>\r\n          {errors?.email?.type === 'required' && (\r\n            <SpanError>Email is required</SpanError>\r\n          )}\r\n        </Label>\r\n        <Label>\r\n          <Input\r\n            type=\"password\"\r\n            {...register('password', { required: true, minLength: 6 })}\r\n            onChange={onChange}\r\n            value={password}\r\n            placeholder=\" \"\r\n          />\r\n          <Placeholder>Password</Placeholder>\r\n          {errors.password?.type === 'required' && (\r\n            <SpanError>Password is required</SpanError>\r\n          )}\r\n          {errors.password?.type === 'minLength' && (\r\n            <SpanError>Password is short</SpanError>\r\n          )}\r\n        </Label>\r\n        <Button type=\"button\" onClick={onCancel}>\r\n          Cancel\r\n        </Button>\r\n        <Button type=\"submit\">Register</Button>\r\n      </Form>\r\n    </>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport Container from '../components/Container/Container'\r\nimport RegisterUser from '../components/RegisterUser/RegisterUser'\r\n\r\nexport default function RegisterPage() {\r\n  return (\r\n    <Container>\r\n      <h2>Form Register</h2>\r\n      <RegisterUser />\r\n    </Container>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport { useSelector } from 'react-redux'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { authUser } from '../../redux/Auth/auth-selector'\r\nimport { onError } from '../../utilits/messages'\r\n\r\nexport default function PublicRoute({\r\n  redirectTo,\r\n  restricted = false,\r\n  element,\r\n}) {\r\n  const auth = useSelector(authUser)\r\n  if (!redirectTo && restricted) {\r\n    onError('No path for redirect')\r\n    return <Navigate to=\"/\" />\r\n  }\r\n\r\n  return <>{auth && restricted ? <Navigate to={redirectTo} /> : element}</>\r\n}\r\n","//created by Irina Shushkevych\r\nimport { useSelector } from 'react-redux'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { authUser } from '../../redux/Auth/auth-selector'\r\nimport { onError } from '../../utilits/messages'\r\n\r\nexport default function PrivateRoute({ element, redirectTo }) {\r\n  const auth = useSelector(authUser)\r\n  if (!redirectTo) {\r\n    onError('No path for redirect')\r\n    return <Navigate to=\"/\" />\r\n  }\r\n  return <>{auth ? element : <Navigate to={redirectTo} />}</>\r\n}\r\n","//created by Irina Shushkevych\r\nimport { Route, Routes, Navigate } from 'react-router-dom'\r\nimport { lazy, Suspense, useEffect } from 'react'\r\n\r\nimport './App.css'\r\n\r\nimport UserMenu from './components/UserMenu'\r\nimport LoginPage from './pages/login'\r\nimport RegisterPage from './pages/register'\r\nimport { useGetUserQuery } from './redux/Users/users-reducer'\r\nimport { onError } from './utilits/messages'\r\nimport PublicRoute from './components/PublicRoute'\r\nimport PrivateRoute from './components/PrivetRoute'\r\n\r\nconst ContactsPage = lazy(() => import('./pages/contacts'))\r\n\r\nexport default function App() {\r\n  const { error } = useGetUserQuery()\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      onError(error.data)\r\n    }\r\n  }, [error])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Suspense fallback={<p>Loading....</p>}>\r\n        <Routes>\r\n          <Route path=\"/\" element={<UserMenu />}>\r\n            <Route\r\n              path=\"login\"\r\n              element={\r\n                <PublicRoute\r\n                  element={<LoginPage />}\r\n                  redirectTo=\"/contacts\"\r\n                  restricted\r\n                />\r\n              }\r\n            />\r\n            <Route\r\n              path=\"register\"\r\n              element={\r\n                <PublicRoute\r\n                  element={<RegisterPage />}\r\n                  redirectTo=\"/contacts\"\r\n                  restricted\r\n                />\r\n              }\r\n            />\r\n            <Route\r\n              path=\"contacts/*\"\r\n              element={\r\n                <PrivateRoute element={<ContactsPage />} redirectTo=\"/login\" />\r\n              }\r\n            />\r\n          </Route>\r\n          <Route path=\"*\" element={<Navigate to=\"/\" />} />\r\n        </Routes>\r\n      </Suspense>\r\n    </div>\r\n  )\r\n}\r\n","//created by Irina Shushkevych\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nimport { setFilter } from './filter-actions'\r\n\r\nexport const filterReducer = createReducer('', {\r\n  [setFilter]: (_, { payload }) => payload,\r\n})\r\n","//created by Irina Shushkevych\r\nimport { createSlice } from '@reduxjs/toolkit'\r\nimport { usersReducer } from '../Users/users-reducer'\r\nimport { current } from 'immer'\r\n\r\nexport const authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState: { token: null, user: null },\r\n  extraReducers: (builder) => {\r\n    builder.addMatcher(\r\n      usersReducer.endpoints.registerUser.matchFulfilled,\r\n      (state, { payload }) => {\r\n        state.token = payload.token\r\n        state.user = payload.user\r\n        state.isLogged = true\r\n      },\r\n    )\r\n    builder.addMatcher(\r\n      usersReducer.endpoints.loginUser.matchFulfilled,\r\n      (state, { payload }) => {\r\n        state.token = payload.token\r\n        state.user = payload.user\r\n        state.isLogged = true\r\n      },\r\n    )\r\n    builder.addMatcher(\r\n      usersReducer.endpoints.logoutUser.matchFulfilled,\r\n      (state) => {\r\n        state.token = null\r\n        state.user = null\r\n        state.isLogged = false\r\n      },\r\n    )\r\n    builder.addMatcher(\r\n      usersReducer.endpoints.getUser.matchFulfilled,\r\n      (state, { payload }) => {\r\n        state.user = payload\r\n        state.isLogged = true\r\n      },\r\n    )\r\n  },\r\n})\r\n","//created by Irina Shushkevych\r\nimport { configureStore } from '@reduxjs/toolkit'\r\nimport { setupListeners } from '@reduxjs/toolkit/dist/query'\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist'\r\nimport storageSession from 'redux-persist/lib/storage/session'\r\nimport logger from 'redux-logger'\r\nimport { contactsReducer } from './Contacts/contacts-reducer'\r\nimport { filterReducer } from './Filter/filter-reducer'\r\nimport { usersReducer } from './Users/users-reducer'\r\nimport { authSlice } from './Auth/auth-slice'\r\n\r\nconst middleware = (getDefaultMiddleware) => [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  contactsReducer.middleware,\r\n  usersReducer.middleware,\r\n  // process.env.NODE_ENV !== 'production' && logger,\r\n]\r\n\r\nconst persistConfig = {\r\n  key: 'auth',\r\n  storage: storageSession,\r\n  whitelist: ['token'],\r\n}\r\n\r\nconst persistedAuthReducer = persistReducer(persistConfig, authSlice.reducer)\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    [usersReducer.reducerPath]: usersReducer.reducer,\r\n    [contactsReducer.reducerPath]: contactsReducer.reducer,\r\n    [authSlice.name]: persistedAuthReducer,\r\n    filter: filterReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n})\r\n\r\nsetupListeners(store.dispatch)\r\n\r\nexport const persistedStore = persistStore(store)\r\n","//created by Irina Shushkevych\r\nimport PropTypes from 'prop-types'\r\nimport s from './ContainerPage.module.css'\r\n\r\nexport default function ContainerPage({ title = '', children }) {\r\n  return (\r\n    <div className={s.container}>\r\n      {title && <h2 className={s.title}>{title}</h2>}\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nContainerPage.propTypes = {\r\n  title: PropTypes.string,\r\n  children: PropTypes.node,\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport 'modern-normalize'\r\nimport './index.css'\r\nimport App from './App'\r\nimport { persistedStore, store } from './redux/store'\r\nimport { ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport ContainerPage from './components/ContainerPage/ContainerPage'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loader={null} persistor={persistedStore}>\r\n        <BrowserRouter>\r\n          <ContainerPage>\r\n            <App />\r\n          </ContainerPage>\r\n        </BrowserRouter>\r\n        <ToastContainer />\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n)\r\n"],"sourceRoot":""}